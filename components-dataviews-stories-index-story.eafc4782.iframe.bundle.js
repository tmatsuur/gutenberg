"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[7319],{"./packages/components/build-module/checkbox-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/compose/build-module/hooks/use-ref-effect/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/deprecated/build-module/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/icons/build-module/icon/index.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/icons/build-module/library/reset.js"),_wordpress_icons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/icons/build-module/library/check.js"),_base_control__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/components/build-module/base-control/index.js"),_h_stack__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/build-module/h-stack/component.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=function CheckboxControl(props){const{__nextHasNoMarginBottom,label,className,heading,checked,indeterminate,help,id:idProp,onChange,...additionalProps}=props;heading&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_1__.Z)("`heading` prop in `CheckboxControl`",{alternative:"a separate element to implement a heading",since:"5.8"});const[showCheckedIcon,setShowCheckedIcon]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[showIndeterminateIcon,setShowIndeterminateIcon]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),ref=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__.Z)((node=>{node&&(node.indeterminate=!!indeterminate,setShowCheckedIcon(node.matches(":checked")),setShowIndeterminateIcon(node.matches(":indeterminate")))}),[checked,indeterminate]),id=(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__.Z)(CheckboxControl,"inspector-checkbox-control",idProp);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_base_control__WEBPACK_IMPORTED_MODULE_5__.ZP,{__nextHasNoMarginBottom,label:heading,id,help:help&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"components-checkbox-control__help",children:help}),className:(0,clsx__WEBPACK_IMPORTED_MODULE_6__.Z)("components-checkbox-control",className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_h_stack__WEBPACK_IMPORTED_MODULE_7__.Z,{spacing:0,justify:"start",alignment:"top",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"components-checkbox-control__input-container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{ref,id,className:"components-checkbox-control__input",type:"checkbox",value:"1",onChange:event=>onChange(event.target.checked),checked,"aria-describedby":help?id+"__help":void 0,...additionalProps}),showIndeterminateIcon?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_9__.Z,className:"components-checkbox-control__indeterminate",role:"presentation"}):null,showCheckedIcon?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_icons__WEBPACK_IMPORTED_MODULE_8__.Z,{icon:_wordpress_icons__WEBPACK_IMPORTED_MODULE_10__.Z,className:"components-checkbox-control__checked",role:"presentation"}):null]}),label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"components-checkbox-control__label",htmlFor:id,children:label})]})})}},"./packages/components/build-module/grid/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>grid_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js");const ALIGNMENTS={bottom:{alignItems:"flex-end",justifyContent:"center"},bottomLeft:{alignItems:"flex-start",justifyContent:"flex-end"},bottomRight:{alignItems:"flex-end",justifyContent:"flex-end"},center:{alignItems:"center",justifyContent:"center"},spaced:{alignItems:"center",justifyContent:"space-between"},left:{alignItems:"center",justifyContent:"flex-start"},right:{alignItems:"center",justifyContent:"flex-end"},stretch:{alignItems:"stretch"},top:{alignItems:"flex-start",justifyContent:"center"},topLeft:{alignItems:"flex-start",justifyContent:"flex-start"},topRight:{alignItems:"flex-start",justifyContent:"flex-end"}};var use_responsive_value=__webpack_require__("./packages/components/build-module/utils/use-responsive-value.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js"),use_cx=__webpack_require__("./packages/components/build-module/utils/hooks/use-cx.js");function useGrid(props){const{align,alignment,className,columnGap,columns=2,gap=3,isInline=!1,justify,rowGap,rows,templateColumns,templateRows,...otherProps}=(0,use_context_system.y)(props,"Grid"),columnsAsArray=Array.isArray(columns)?columns:[columns],column=(0,use_responsive_value.V)(columnsAsArray),rowsAsArray=Array.isArray(rows)?rows:[rows],row=(0,use_responsive_value.V)(rowsAsArray),gridTemplateColumns=templateColumns||!!columns&&`repeat( ${column}, 1fr )`,gridTemplateRows=templateRows||!!rows&&`repeat( ${row}, 1fr )`,cx=(0,use_cx.I)();return{...otherProps,className:(0,react.useMemo)((()=>{const alignmentProps=function getAlignmentProps(alignment){return alignment?ALIGNMENTS[alignment]:{}}(alignment),gridClasses=(0,emotion_react_browser_esm.iv)({alignItems:align,display:isInline?"inline-grid":"grid",gap:`calc( ${config_values.Z.gridBase} * ${gap} )`,gridTemplateColumns:gridTemplateColumns||void 0,gridTemplateRows:gridTemplateRows||void 0,gridRowGap:rowGap,gridColumnGap:columnGap,justifyContent:justify,verticalAlign:isInline?"middle":void 0,...alignmentProps},"","","","");return cx(gridClasses,className)}),[align,alignment,className,columnGap,cx,gap,gridTemplateColumns,gridTemplateRows,isInline,justify,rowGap])}}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const grid_component=(0,context_connect.Iq)((function UnconnectedGrid(props,forwardedRef){const gridProps=useGrid(props);return(0,jsx_runtime.jsx)(component.Z,{...gridProps,ref:forwardedRef})}),"Grid")},"./packages/components/build-module/modal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>modal});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),use_focus_on_mount=__webpack_require__("./packages/compose/build-module/hooks/use-focus-on-mount/index.js"),use_constrained_tabbing=__webpack_require__("./packages/compose/build-module/hooks/use-constrained-tabbing/index.js"),use_focus_return=__webpack_require__("./packages/compose/build-module/hooks/use-focus-return/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),library_close=__webpack_require__("./packages/icons/build-module/library/close.js"),get_scroll_container=__webpack_require__("./packages/dom/build-module/dom/get-scroll-container.js");const LIVE_REGION_ARIA_ROLES=new Set(["alert","status","log","marquee","timer"]),hiddenElementsByDepth=[];function elementShouldBeHidden(element){const role=element.getAttribute("role");return!("SCRIPT"===element.tagName||element.hasAttribute("aria-hidden")||element.hasAttribute("aria-live")||role&&LIVE_REGION_ARIA_ROLES.has(role))}var build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),style_provider=__webpack_require__("./packages/components/build-module/style-provider/index.js"),with_ignore_ime_events=__webpack_require__("./packages/components/build-module/utils/with-ignore-ime-events.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const ModalContext=(0,react.createContext)(new Set),bodyOpenClasses=new Map;const Modal=(0,react.forwardRef)((function UnforwardedModal(props,forwardedRef){const{bodyOpenClassName="modal-open",role="dialog",title=null,focusOnMount=!0,shouldCloseOnEsc=!0,shouldCloseOnClickOutside=!0,isDismissible=!0,aria={labelledby:void 0,describedby:void 0},onRequestClose,icon,closeButtonLabel,children,style,overlayClassName,className,contentLabel,onKeyDown,isFullScreen=!1,size,headerActions=null,__experimentalHideHeader=!1}=props,ref=(0,react.useRef)(),instanceId=(0,use_instance_id.Z)(Modal),headingId=title?`components-modal-header-${instanceId}`:aria.labelledby,focusOnMountRef=(0,use_focus_on_mount.Z)("firstContentElement"===focusOnMount?"firstElement":focusOnMount),constrainedTabbingRef=(0,use_constrained_tabbing.Z)(),focusReturnRef=(0,use_focus_return.Z)(),contentRef=(0,react.useRef)(null),childrenContainerRef=(0,react.useRef)(null),[hasScrolledContent,setHasScrolledContent]=(0,react.useState)(!1),[hasScrollableContent,setHasScrollableContent]=(0,react.useState)(!1);let sizeClass;isFullScreen||"fill"===size?sizeClass="is-full-screen":size&&(sizeClass=`has-size-${size}`);const isContentScrollable=(0,react.useCallback)((()=>{if(!contentRef.current)return;const closestScrollContainer=(0,get_scroll_container.Z)(contentRef.current);contentRef.current===closestScrollContainer?setHasScrollableContent(!0):setHasScrollableContent(!1)}),[contentRef]);(0,react.useEffect)((()=>(function modalize(modalElement){const elements=Array.from(document.body.children),hiddenElements=[];hiddenElementsByDepth.push(hiddenElements);for(const element of elements)element!==modalElement&&elementShouldBeHidden(element)&&(element.setAttribute("aria-hidden","true"),hiddenElements.push(element))}(ref.current),()=>function unmodalize(){const hiddenElements=hiddenElementsByDepth.pop();if(hiddenElements)for(const element of hiddenElements)element.removeAttribute("aria-hidden")}())),[]);const refOnRequestClose=(0,react.useRef)();(0,react.useEffect)((()=>{refOnRequestClose.current=onRequestClose}),[onRequestClose]);const dismissers=(0,react.useContext)(ModalContext),[nestedDismissers]=(0,react.useState)((()=>new Set));(0,react.useEffect)((()=>{dismissers.add(refOnRequestClose);for(const dismisser of dismissers)dismisser!==refOnRequestClose&&dismisser.current?.();return()=>{for(const dismisser of nestedDismissers)dismisser.current?.();dismissers.delete(refOnRequestClose)}}),[dismissers,nestedDismissers]),(0,react.useEffect)((()=>{var _bodyOpenClasses$get;const theClass=bodyOpenClassName,oneMore=1+(null!==(_bodyOpenClasses$get=bodyOpenClasses.get(theClass))&&void 0!==_bodyOpenClasses$get?_bodyOpenClasses$get:0);return bodyOpenClasses.set(theClass,oneMore),document.body.classList.add(bodyOpenClassName),()=>{const oneLess=bodyOpenClasses.get(theClass)-1;0===oneLess?(document.body.classList.remove(theClass),bodyOpenClasses.delete(theClass)):bodyOpenClasses.set(theClass,oneLess)}}),[bodyOpenClassName]),(0,react.useLayoutEffect)((()=>{if(!window.ResizeObserver||!childrenContainerRef.current)return;const resizeObserver=new ResizeObserver(isContentScrollable);return resizeObserver.observe(childrenContainerRef.current),isContentScrollable(),()=>{resizeObserver.disconnect()}}),[isContentScrollable,childrenContainerRef]);const onContentContainerScroll=(0,react.useCallback)((e=>{var _e$currentTarget$scro;const scrollY=null!==(_e$currentTarget$scro=e?.currentTarget?.scrollTop)&&void 0!==_e$currentTarget$scro?_e$currentTarget$scro:-1;!hasScrolledContent&&scrollY>0?setHasScrolledContent(!0):hasScrolledContent&&scrollY<=0&&setHasScrolledContent(!1)}),[hasScrolledContent]);let pressTarget=null;const overlayPressHandlers={onPointerDown:event=>{event.target===event.currentTarget&&(pressTarget=event.target,event.preventDefault())},onPointerUp:({target,button})=>{const isSameTarget=target===pressTarget;pressTarget=null,0===button&&isSameTarget&&onRequestClose()}},modal=(0,jsx_runtime.jsx)("div",{ref:(0,use_merge_refs.Z)([ref,forwardedRef]),className:(0,clsx.Z)("components-modal__screen-overlay",overlayClassName),onKeyDown:(0,with_ignore_ime_events.U)((function handleEscapeKeyDown(event){!shouldCloseOnEsc||"Escape"!==event.code&&"Escape"!==event.key||event.defaultPrevented||(event.preventDefault(),onRequestClose&&onRequestClose(event))})),...shouldCloseOnClickOutside?overlayPressHandlers:{},children:(0,jsx_runtime.jsx)(style_provider.Z,{document,children:(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)("components-modal__frame",sizeClass,className),style,ref:(0,use_merge_refs.Z)([constrainedTabbingRef,focusReturnRef,"firstContentElement"!==focusOnMount?focusOnMountRef:null]),role,"aria-label":contentLabel,"aria-labelledby":contentLabel?void 0:headingId,"aria-describedby":aria.describedby,tabIndex:-1,onKeyDown,children:(0,jsx_runtime.jsxs)("div",{className:(0,clsx.Z)("components-modal__content",{"hide-header":__experimentalHideHeader,"is-scrollable":hasScrollableContent,"has-scrolled-content":hasScrolledContent}),role:"document",onScroll:onContentContainerScroll,ref:contentRef,"aria-label":hasScrollableContent?(0,build_module.__)("Scrollable section"):void 0,tabIndex:hasScrollableContent?0:void 0,children:[!__experimentalHideHeader&&(0,jsx_runtime.jsxs)("div",{className:"components-modal__header",children:[(0,jsx_runtime.jsxs)("div",{className:"components-modal__header-heading-container",children:[icon&&(0,jsx_runtime.jsx)("span",{className:"components-modal__icon-container","aria-hidden":!0,children:icon}),title&&(0,jsx_runtime.jsx)("h1",{id:headingId,className:"components-modal__header-heading",children:title})]}),headerActions,isDismissible&&(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:onRequestClose,icon:library_close.Z,label:closeButtonLabel||(0,build_module.__)("Close")})]}),(0,jsx_runtime.jsx)("div",{ref:(0,use_merge_refs.Z)([childrenContainerRef,"firstContentElement"===focusOnMount?focusOnMountRef:null]),children})]})})})});return(0,react_dom.createPortal)((0,jsx_runtime.jsx)(ModalContext.Provider,{value:nestedDismissers,children:modal}),document.body)})),modal=Modal},"./packages/components/build-module/search-control/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>search_control});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js"),use_merge_refs=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),icon=__webpack_require__("./packages/icons/build-module/icon/index.js"),search=__webpack_require__("./packages/icons/build-module/library/search.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),react=__webpack_require__("./node_modules/react/index.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),context_system_provider=__webpack_require__("./packages/components/build-module/context/context-system-provider.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),space=__webpack_require__("./packages/components/build-module/utils/space.js"),input_control=__webpack_require__("./packages/components/build-module/input-control/index.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js");const inlinePadding=({size})=>(0,space.D)("compact"===size?1:2),SuffixItemWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"effl84m1"})("display:flex;padding-inline-end:",inlinePadding,";svg{fill:currentColor;}"),StyledInputControl=(0,emotion_styled_base_browser_esm.Z)(input_control.ZP,{target:"effl84m0"})("input[type='search']{&::-webkit-search-decoration,&::-webkit-search-cancel-button,&::-webkit-search-results-button,&::-webkit-search-results-decoration{-webkit-appearance:none;}}&:not( :focus-within ){--wp-components-color-background:",colors_values.D.theme.gray[100],";}");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function SuffixItem({searchRef,value,onChange,onClose}){if(!onClose&&!value)return(0,jsx_runtime.jsx)(icon.Z,{icon:search.Z});return(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"small",icon:close_small.Z,label:onClose?(0,build_module.__)("Close search"):(0,build_module.__)("Reset search"),onClick:null!=onClose?onClose:()=>{onChange(""),searchRef.current?.focus()}})}const SearchControl=(0,react.forwardRef)((function UnforwardedSearchControl({__nextHasNoMarginBottom=!1,className,onChange,value,label=(0,build_module.__)("Search"),placeholder=(0,build_module.__)("Search"),hideLabelFromVision=!0,onClose,size="default",...restProps},forwardedRef){delete restProps.disabled;const searchRef=(0,react.useRef)(null),instanceId=(0,use_instance_id.Z)(SearchControl,"components-search-control"),contextValue=(0,react.useMemo)((()=>({BaseControl:{_overrides:{__nextHasNoMarginBottom}},InputBase:{isBorderless:!0}})),[__nextHasNoMarginBottom]);return(0,jsx_runtime.jsx)(context_system_provider.G8,{value:contextValue,children:(0,jsx_runtime.jsx)(StyledInputControl,{__next40pxDefaultSize:!0,id:instanceId,hideLabelFromVision,label,ref:(0,use_merge_refs.Z)([searchRef,forwardedRef]),type:"search",size,className:(0,clsx.Z)("components-search-control",className),onChange:nextValue=>onChange(null!=nextValue?nextValue:""),autoComplete:"off",placeholder,value:null!=value?value:"",suffix:(0,jsx_runtime.jsx)(SuffixItemWrapper,{size,children:(0,jsx_runtime.jsx)(SuffixItem,{searchRef,value,onChange,onClose})}),...restProps})})})),search_control=SearchControl},"./packages/components/build-module/toolbar/toolbar-button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>toolbar_button});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),toolbar_item=__webpack_require__("./packages/components/build-module/toolbar/toolbar-item/index.js"),toolbar_context=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const toolbar_button_container=({children,className})=>(0,jsx_runtime.jsx)("div",{className,children});const toolbar_button=(0,react.forwardRef)((function UnforwardedToolbarButton(props,ref){const{children,className,containerClassName,extraProps,isActive,title,...restProps}=function useDeprecatedProps({isDisabled,...otherProps}){return{disabled:isDisabled,...otherProps}}(props);return(0,react.useContext)(toolbar_context.Z)?(0,jsx_runtime.jsx)(toolbar_item.Z,{className:(0,clsx.Z)("components-toolbar-button",className),...extraProps,...restProps,ref,children:toolbarItemProps=>(0,jsx_runtime.jsx)(build_module_button.ZP,{label:title,isPressed:isActive,...toolbarItemProps,children})}):(0,jsx_runtime.jsx)(toolbar_button_container,{className:containerClassName,children:(0,jsx_runtime.jsx)(build_module_button.ZP,{ref,icon:restProps.icon,label:title,shortcut:restProps.shortcut,"data-subscript":restProps.subscript,onClick:event=>{event.stopPropagation(),restProps.onClick&&restProps.onClick(event)},className:(0,clsx.Z)("components-toolbar__control",className),isPressed:isActive,accessibleWhenDisabled:!0,"data-toolbar-item":!0,...extraProps,...restProps,children})})}))},"./packages/components/build-module/toolbar/toolbar-context/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(0,__webpack_require__("./node_modules/react/index.js").createContext)(void 0)},"./packages/components/build-module/toolbar/toolbar-group/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>toolbar_group});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),toolbar_button=__webpack_require__("./packages/components/build-module/toolbar/toolbar-button/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const toolbar_group_container=({className,children,...props})=>(0,jsx_runtime.jsx)("div",{className,...props,children});var dropdown_menu=__webpack_require__("./packages/components/build-module/dropdown-menu/index.js"),toolbar_context=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js"),toolbar_item=__webpack_require__("./packages/components/build-module/toolbar/toolbar-item/index.js");const toolbar_group_collapsed=function ToolbarGroupCollapsed({controls=[],toggleProps,...props}){const renderDropdownMenu=internalToggleProps=>(0,jsx_runtime.jsx)(dropdown_menu.Z,{controls,toggleProps:{...internalToggleProps,"data-toolbar-item":!0},...props});return(0,react.useContext)(toolbar_context.Z)?(0,jsx_runtime.jsx)(toolbar_item.Z,{...toggleProps,children:renderDropdownMenu}):renderDropdownMenu(toggleProps)};const toolbar_group=function ToolbarGroup({controls=[],children,className,isCollapsed,title,...props}){const accessibleToolbarState=(0,react.useContext)(toolbar_context.Z);if(!(controls&&controls.length||children))return null;const finalClassName=(0,clsx.Z)(accessibleToolbarState?"components-toolbar-group":"components-toolbar",className);let controlSets;return controlSets=function isNestedArray(arr){return Array.isArray(arr)&&Array.isArray(arr[0])}(controls)?controls:[controls],isCollapsed?(0,jsx_runtime.jsx)(toolbar_group_collapsed,{label:title,controls:controlSets,className:finalClassName,children,...props}):(0,jsx_runtime.jsxs)(toolbar_group_container,{className:finalClassName,...props,children:[controlSets?.flatMap(((controlSet,indexOfSet)=>controlSet.map(((control,indexOfControl)=>(0,jsx_runtime.jsx)(toolbar_button.Z,{containerClassName:indexOfSet>0&&0===indexOfControl?"has-left-divider":void 0,...control},[indexOfSet,indexOfControl].join()))))),children]})}},"./packages/components/build-module/toolbar/toolbar-item/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _ariakit_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/7NHUGSTF.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_wordpress_warning__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/warning/build-module/index.js"),_toolbar_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((function ToolbarItem({children,as:Component,...props},ref){const accessibleToolbarStore=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_1__.useContext)(_toolbar_context__WEBPACK_IMPORTED_MODULE_2__.Z),isRenderProp="function"==typeof children;if(!isRenderProp&&!Component)return!0===globalThis.SCRIPT_DEBUG&&!0===globalThis.SCRIPT_DEBUG&&(0,_wordpress_warning__WEBPACK_IMPORTED_MODULE_3__.Z)("`ToolbarItem` is a generic headless component. You must pass either a `children` prop as a function or an `as` prop as a component. See https://developer.wordpress.org/block-editor/components/toolbar-item/"),null;const allProps={...props,ref,"data-toolbar-item":!0};if(!accessibleToolbarStore)return Component?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Component,{...allProps,children}):isRenderProp?children(allProps):null;const render=isRenderProp?children:Component&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Component,{children});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ariakit_react__WEBPACK_IMPORTED_MODULE_4__.E,{accessibleWhenDisabled:!0,...allProps,store:accessibleToolbarStore,render})}))},"./packages/components/build-module/toolbar/toolbar/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>toolbar_toolbar});var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),react=__webpack_require__("./node_modules/react/index.js"),build_module=__webpack_require__("./packages/deprecated/build-module/index.js"),toolbar_group=__webpack_require__("./packages/components/build-module/toolbar/toolbar-group/index.js"),BPNXFCFY=__webpack_require__("./node_modules/@ariakit/react-core/esm/__chunks/BPNXFCFY.js"),toolbar=__webpack_require__("./node_modules/@ariakit/react-core/esm/toolbar/toolbar.js"),i18n_build_module=__webpack_require__("./packages/i18n/build-module/index.js"),toolbar_context=__webpack_require__("./packages/components/build-module/toolbar/toolbar-context/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const toolbar_container=(0,react.forwardRef)((function UnforwardedToolbarContainer({label,...props},ref){const toolbarStore=BPNXFCFY.r({focusLoop:!0,rtl:(0,i18n_build_module.dZ)()});return(0,jsx_runtime.jsx)(toolbar_context.Z.Provider,{value:toolbarStore,children:(0,jsx_runtime.jsx)(toolbar.o,{ref,"aria-label":label,store:toolbarStore,...props})})}));var context_system_provider=__webpack_require__("./packages/components/build-module/context/context-system-provider.js");const toolbar_toolbar=(0,react.forwardRef)((function UnforwardedToolbar({className,label,variant,...props},ref){const isVariantDefined=void 0!==variant,contextSystemValue=(0,react.useMemo)((()=>isVariantDefined?{}:{DropdownMenu:{variant:"toolbar"},Dropdown:{variant:"toolbar"}}),[isVariantDefined]);if(!label){(0,build_module.Z)("Using Toolbar without label prop",{since:"5.6",alternative:"ToolbarGroup component",link:"https://developer.wordpress.org/block-editor/components/toolbar/"});const{title:_title,...restProps}=props;return(0,jsx_runtime.jsx)(toolbar_group.Z,{isCollapsed:!1,...restProps,className})}const finalClassName=(0,clsx.Z)("components-accessible-toolbar",className,variant&&`is-${variant}`);return(0,jsx_runtime.jsx)(context_system_provider.G8,{value:contextSystemValue,children:(0,jsx_runtime.jsx)(toolbar_container,{className:finalClassName,label,ref,...props})})}))},"./packages/components/build-module/utils/hooks/use-controlled-state.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_values__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/utils/values.js");const defaultOptions={initial:void 0,fallback:""};const __WEBPACK_DEFAULT_EXPORT__=function useControlledState(currentState,options=defaultOptions){const{initial,fallback}={...defaultOptions,...options},[internalState,setInternalState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(currentState),hasCurrentState=(0,_values__WEBPACK_IMPORTED_MODULE_1__.Jf)(currentState);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{hasCurrentState&&internalState&&setInternalState(void 0)}),[hasCurrentState,internalState]),[(0,_values__WEBPACK_IMPORTED_MODULE_1__.Me)([currentState,internalState,initial],fallback),(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useCallback)((nextState=>{hasCurrentState||setInternalState(nextState)}),[hasCurrentState])]}},"./packages/components/build-module/utils/strings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GL:()=>kebabCase,eK:()=>normalizeTextString,hr:()=>escapeRegExp});var remove_accents__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(remove_accents__WEBPACK_IMPORTED_MODULE_0__),change_case__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/param-case/dist.es2015/index.js");const ALL_UNICODE_DASH_CHARACTERS=new RegExp(/[\u007e\u00ad\u2053\u207b\u208b\u2212\p{Pd}]/gu),normalizeTextString=value=>remove_accents__WEBPACK_IMPORTED_MODULE_0___default()(value).toLocaleLowerCase().replace(ALL_UNICODE_DASH_CHARACTERS,"-");function kebabCase(str){var _str$toString;let input=null!==(_str$toString=str?.toString?.())&&void 0!==_str$toString?_str$toString:"";return input=input.replace(/['\u2019]/,""),(0,change_case__WEBPACK_IMPORTED_MODULE_1__.o)(input,{splitRegexp:[/(?!(?:1ST|2ND|3RD|[4-9]TH)(?![a-z]))([a-z0-9])([A-Z])/g,/(?!(?:1st|2nd|3rd|[4-9]th)(?![a-z]))([0-9])([a-z])/g,/([A-Za-z])([0-9])/g,/([A-Z])([A-Z][a-z])/g]})}function escapeRegExp(string){return string.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}},"./packages/components/build-module/v-stack/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>v_stack_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/h-stack/hook.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const v_stack_component=(0,context_connect.Iq)((function UnconnectedVStack(props,forwardedRef){const vStackProps=function useVStack(props){const{expanded=!1,alignment="stretch",...otherProps}=(0,use_context_system.y)(props,"VStack");return(0,hook.R)({direction:"column",expanded,alignment,...otherProps})}(props);return(0,jsx_runtime.jsx)(component.Z,{...vStackProps,ref:forwardedRef})}),"VStack")},"./packages/compose/build-module/hooks/use-debounced-input/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useDebouncedInput});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_use_debounce__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/compose/build-module/hooks/use-debounce/index.js");function useDebouncedInput(defaultValue=""){const[input,setInput]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),[debouncedInput,setDebouncedState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),setDebouncedInput=(0,_use_debounce__WEBPACK_IMPORTED_MODULE_1__.Z)(setDebouncedState,250);return(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setDebouncedInput(input)}),[input,setDebouncedInput]),[input,setInput,debouncedInput]}},"./packages/dom/build-module/dom/get-computed-style.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>getComputedStyle});var _utils_assert_is_defined__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/dom/build-module/utils/assert-is-defined.js");function getComputedStyle(element){return(0,_utils_assert_is_defined__WEBPACK_IMPORTED_MODULE_0__.c)(element.ownerDocument.defaultView,"element.ownerDocument.defaultView"),element.ownerDocument.defaultView.getComputedStyle(element)}},"./packages/dom/build-module/dom/get-scroll-container.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>getScrollContainer});var _get_computed_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/dom/build-module/dom/get-computed-style.js");function getScrollContainer(node,direction="vertical"){if(node){if(("vertical"===direction||"all"===direction)&&node.scrollHeight>node.clientHeight){const{overflowY}=(0,_get_computed_style__WEBPACK_IMPORTED_MODULE_0__.Z)(node);if(/(auto|scroll)/.test(overflowY))return node}if(("horizontal"===direction||"all"===direction)&&node.scrollWidth>node.clientWidth){const{overflowX}=(0,_get_computed_style__WEBPACK_IMPORTED_MODULE_0__.Z)(node);if(/(auto|scroll)/.test(overflowX))return node}return node.ownerDocument===node.parentNode?node:getScrollContainer(node.parentNode,direction)}}},"./packages/element/build-module/create-interpolate-element.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");let indoc,offset,output,stack;const tokenizer=/<(\/)?(\w+)\s*(\/)?>/g;function createFrame(element,tokenStart,tokenLength,prevOffset,leadingTextStart){return{element,tokenStart,tokenLength,prevOffset,leadingTextStart,children:[]}}const isValidConversionMap=conversionMap=>{const isObject="object"==typeof conversionMap,values=isObject&&Object.values(conversionMap);return isObject&&values.length&&values.every((element=>(0,_react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(element)))};function proceed(conversionMap){const next=function nextToken(){const matches=tokenizer.exec(indoc);if(null===matches)return["no-more-tokens"];const startedAt=matches.index,[match,isClosing,name,isSelfClosed]=matches,length=match.length;if(isSelfClosed)return["self-closed",name,startedAt,length];if(isClosing)return["closer",name,startedAt,length];return["opener",name,startedAt,length]}(),[tokenType,name,startOffset,tokenLength]=next,stackDepth=stack.length,leadingTextStart=startOffset>offset?offset:null;if(!conversionMap[name])return addText(),!1;switch(tokenType){case"no-more-tokens":if(0!==stackDepth){const{leadingTextStart:stackLeadingText,tokenStart}=stack.pop();output.push(indoc.substr(stackLeadingText,tokenStart))}return addText(),!1;case"self-closed":return 0===stackDepth?(null!==leadingTextStart&&output.push(indoc.substr(leadingTextStart,startOffset-leadingTextStart)),output.push(conversionMap[name]),offset=startOffset+tokenLength,!0):(addChild(createFrame(conversionMap[name],startOffset,tokenLength)),offset=startOffset+tokenLength,!0);case"opener":return stack.push(createFrame(conversionMap[name],startOffset,tokenLength,startOffset+tokenLength,leadingTextStart)),offset=startOffset+tokenLength,!0;case"closer":if(1===stackDepth)return function closeOuterElement(endOffset){const{element,leadingTextStart,prevOffset,tokenStart,children}=stack.pop(),text=endOffset?indoc.substr(prevOffset,endOffset-prevOffset):indoc.substr(prevOffset);text&&children.push(text);null!==leadingTextStart&&output.push(indoc.substr(leadingTextStart,tokenStart-leadingTextStart));output.push((0,_react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(element,null,...children))}(startOffset),offset=startOffset+tokenLength,!0;const stackTop=stack.pop(),text=indoc.substr(stackTop.prevOffset,startOffset-stackTop.prevOffset);stackTop.children.push(text),stackTop.prevOffset=startOffset+tokenLength;const frame=createFrame(stackTop.element,stackTop.tokenStart,stackTop.tokenLength,startOffset+tokenLength);return frame.children=stackTop.children,addChild(frame),offset=startOffset+tokenLength,!0;default:return addText(),!1}}function addText(){const length=indoc.length-offset;0!==length&&output.push(indoc.substr(offset,length))}function addChild(frame){const{element,tokenStart,tokenLength,prevOffset,children}=frame,parent=stack[stack.length-1],text=indoc.substr(parent.prevOffset,tokenStart-parent.prevOffset);text&&parent.children.push(text),parent.children.push((0,_react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(element,null,...children)),parent.prevOffset=prevOffset||tokenStart+tokenLength}const __WEBPACK_DEFAULT_EXPORT__=(interpolatedString,conversionMap)=>{if(indoc=interpolatedString,offset=0,output=[],stack=[],tokenizer.lastIndex=0,!isValidConversionMap(conversionMap))throw new TypeError("The conversionMap provided is not valid. It must be an object with values that are React Elements");do{}while(proceed(conversionMap));return(0,_react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,...output)}},"./packages/icons/build-module/library/arrow-left.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})})},"./packages/icons/build-module/library/arrow-right.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})})},"./packages/icons/build-module/library/block-table.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})})},"./packages/icons/build-module/library/category.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})})},"./packages/icons/build-module/library/close-small.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})})},"./packages/icons/build-module/library/cog.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})})},"./packages/icons/build-module/library/format-list-bullets-rtl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4 8.8h8.9V7.2H4v1.6zm0 7h8.9v-1.5H4v1.5zM18 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"})})},"./packages/icons/build-module/library/format-list-bullets.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})},"./packages/icons/build-module/library/line-solid.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M5 11.25h14v1.5H5z"})})},"./packages/icons/build-module/library/next.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})})},"./packages/icons/build-module/library/previous.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})})},"./packages/icons/build-module/library/search.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})})},"./packages/icons/build-module/library/trash.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})})},"./packages/icons/build-module/library/unseen.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M4.67 10.664s-2.09 1.11-2.917 1.582l.494.87 1.608-.914.002.002c.343.502.86 1.17 1.563 1.84.348.33.742.663 1.185.976L5.57 16.744l.858.515 1.02-1.701a9.1 9.1 0 0 0 4.051 1.18V19h1v-2.263a9.1 9.1 0 0 0 4.05-1.18l1.021 1.7.858-.514-1.034-1.723c.442-.313.837-.646 1.184-.977.703-.669 1.22-1.337 1.563-1.839l.002-.003 1.61.914.493-.87c-1.75-.994-2.918-1.58-2.918-1.58l-.003.005a8.29 8.29 0 0 1-.422.689 10.097 10.097 0 0 1-1.36 1.598c-1.218 1.16-3.042 2.293-5.544 2.293-2.503 0-4.327-1.132-5.546-2.293a10.099 10.099 0 0 1-1.359-1.599 8.267 8.267 0 0 1-.422-.689l-.003-.005Z"})})},"./packages/dataviews/src/normalize-fields.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function normalizeFields(fields){return fields.map((field=>{const getValue=field.getValue||(({item})=>item[field.id]);return{...field,label:field.label||field.id,getValue,render:field.render||getValue}}))}__webpack_require__.d(__webpack_exports__,{U:()=>normalizeFields})},"./packages/dataviews/src/components/dataviews/stories/index.story.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>index_story});var react=__webpack_require__("./node_modules/react/index.js"),component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),private_apis=__webpack_require__("./packages/components/build-module/private-apis.js"),modal=__webpack_require__("./packages/components/build-module/modal/index.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),use_registry=__webpack_require__("./packages/data/build-module/components/registry-provider/use-registry.js");const OPERATOR_IS="is",OPERATOR_IS_NOT="isNot",OPERATOR_IS_ANY="isAny",OPERATOR_IS_NONE="isNone",OPERATOR_IS_ALL="isAll",OPERATOR_IS_NOT_ALL="isNotAll",ALL_OPERATORS=[OPERATOR_IS,OPERATOR_IS_NOT,OPERATOR_IS_ANY,OPERATOR_IS_NONE,"isAll","isNotAll"],OPERATORS={[OPERATOR_IS]:{key:"is-filter",label:(0,build_module.__)("Is")},[OPERATOR_IS_NOT]:{key:"is-not-filter",label:(0,build_module.__)("Is not")},[OPERATOR_IS_ANY]:{key:"is-any-filter",label:(0,build_module.__)("Is any")},[OPERATOR_IS_NONE]:{key:"is-none-filter",label:(0,build_module.__)("Is none")},[OPERATOR_IS_ALL]:{key:"is-all-filter",label:(0,build_module.__)("Is all")},[OPERATOR_IS_NOT_ALL]:{key:"is-not-all-filter",label:(0,build_module.__)("Is not all")}},SORTING_DIRECTIONS=["asc","desc"],sortArrows={asc:"",desc:""},sortValues={asc:"ascending",desc:"descending"},sortLabels={asc:(0,build_module.__)("Sort ascending"),desc:(0,build_module.__)("Sort descending")},LAYOUT_TABLE="table",LAYOUT_GRID="grid",dataviews_context=(0,react.createContext)({view:{type:LAYOUT_TABLE},onChangeView:()=>{},fields:[],data:[],paginationInfo:{totalItems:0,totalPages:0},selection:[],onChangeSelection:()=>{},setOpenedFilter:()=>{},openedFilter:null,getItemId:item=>item.id,density:0});var implementation=__webpack_require__("./packages/private-apis/build-module/implementation.js");const{lock,unlock}=(0,implementation.es)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/dataviews");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const{DropdownMenuV2:DropdownMenu,DropdownMenuGroupV2:DropdownMenuGroup,DropdownMenuItemV2:DropdownMenuItem,DropdownMenuSeparatorV2:DropdownMenuSeparator}=unlock(private_apis.Y);function useHasAPossibleBulkAction(actions,item){return(0,react.useMemo)((()=>actions.some((action=>action.supportsBulk&&(!action.isEligible||action.isEligible(item))))),[actions,item])}function useSomeItemHasAPossibleBulkAction(actions,data){return(0,react.useMemo)((()=>data.some((item=>actions.some((action=>action.supportsBulk&&(!action.isEligible||action.isEligible(item))))))),[actions,data])}function ActionWithModal({action,selectedItems,setActionWithModal,onMenuOpenChange}){const eligibleItems=(0,react.useMemo)((()=>selectedItems.filter((item=>!action.isEligible||action.isEligible(item)))),[action,selectedItems]),{RenderModal,hideModalHeader}=action,onCloseModal=(0,react.useCallback)((()=>{setActionWithModal(void 0)}),[setActionWithModal]),label="string"==typeof action.label?action.label:action.label(selectedItems);return(0,jsx_runtime.jsx)(modal.Z,{title:hideModalHeader?void 0:label,__experimentalHideHeader:!!hideModalHeader,onRequestClose:onCloseModal,overlayClassName:"dataviews-bulk-actions__modal",children:(0,jsx_runtime.jsx)(RenderModal,{items:eligibleItems,closeModal:onCloseModal,onActionPerformed:()=>onMenuOpenChange(!1)})})}function BulkActionItem({action,selectedItems,setActionWithModal}){const registry=(0,use_registry.Z)(),eligibleItems=(0,react.useMemo)((()=>selectedItems.filter((item=>!action.isEligible||action.isEligible(item)))),[action,selectedItems]),shouldShowModal="RenderModal"in action;return(0,jsx_runtime.jsx)(DropdownMenuItem,{hideOnClick:!shouldShowModal,onClick:async()=>{shouldShowModal?setActionWithModal(action):action.callback(eligibleItems,{registry})},suffix:eligibleItems.length,children:action.label},action.id)}function ActionsMenuGroup({actions,selectedItems,setActionWithModal}){const elligibleActions=(0,react.useMemo)((()=>actions.filter((action=>selectedItems.some((item=>!action.isEligible||action.isEligible(item)))))),[actions,selectedItems]);return elligibleActions.length?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DropdownMenuGroup,{children:elligibleActions.map((action=>(0,jsx_runtime.jsx)(BulkActionItem,{action,selectedItems,setActionWithModal},action.id)))}),(0,jsx_runtime.jsx)(DropdownMenuSeparator,{})]}):null}function _BulkActions(){const{data,actions=[],selection,onChangeSelection,getItemId}=(0,react.useContext)(dataviews_context),bulkActions=(0,react.useMemo)((()=>actions.filter((action=>action.supportsBulk))),[actions]),[isMenuOpen,onMenuOpenChange]=(0,react.useState)(!1),[actionWithModal,setActionWithModal]=(0,react.useState)(),selectableItems=(0,react.useMemo)((()=>data.filter((item=>bulkActions.some((action=>!action.isEligible||action.isEligible(item)))))),[data,bulkActions]),numberSelectableItems=selectableItems.length,selectedItems=(0,react.useMemo)((()=>data.filter((item=>selection.includes(getItemId(item))&&selectableItems.includes(item)))),[selection,data,getItemId,selectableItems]),areAllSelected=selectedItems.length===numberSelectableItems;return 0===bulkActions.length?null:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(DropdownMenu,{open:isMenuOpen,onOpenChange:onMenuOpenChange,label:(0,build_module.__)("Bulk actions"),style:{minWidth:"240px"},trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataviews-bulk-actions__edit-button",__next40pxDefaultSize:!0,variant:"tertiary",size:"compact",children:selectedItems.length?(0,build_module.gB)((0,build_module._n)("Edit %d item","Edit %d items",selectedItems.length),selectedItems.length):(0,build_module.__)("Bulk edit")}),children:[(0,jsx_runtime.jsx)(ActionsMenuGroup,{actions:bulkActions,setActionWithModal,selectedItems}),(0,jsx_runtime.jsxs)(DropdownMenuGroup,{children:[(0,jsx_runtime.jsx)(DropdownMenuItem,{disabled:areAllSelected,hideOnClick:!1,onClick:()=>{onChangeSelection(selectableItems.map((item=>getItemId(item))))},suffix:numberSelectableItems,children:(0,build_module.__)("Select all")}),(0,jsx_runtime.jsx)(DropdownMenuItem,{disabled:0===selection.length,hideOnClick:!1,onClick:()=>{onChangeSelection([])},children:(0,build_module.__)("Deselect")})]})]}),actionWithModal&&(0,jsx_runtime.jsx)(ActionWithModal,{action:actionWithModal,selectedItems,setActionWithModal,onMenuOpenChange})]})}function BulkActions(){const{data,actions=[],view}=(0,react.useContext)(dataviews_context),hasPossibleBulkAction=useSomeItemHasAPossibleBulkAction(actions,data);return[LAYOUT_TABLE,LAYOUT_GRID].includes(view.type)&&hasPossibleBulkAction?(0,jsx_runtime.jsx)(_BulkActions,{}):null}ActionWithModal.displayName="ActionWithModal",BulkActionItem.displayName="BulkActionItem",BulkActions.displayName="BulkActions";var toolbar_button=__webpack_require__("./packages/components/build-module/toolbar/toolbar-button/index.js"),toolbar_group=__webpack_require__("./packages/components/build-module/toolbar/toolbar-group/index.js"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),motion=__webpack_require__("./node_modules/framer-motion/dist/es/render/dom/motion.mjs"),toolbar=__webpack_require__("./packages/components/build-module/toolbar/toolbar/index.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js"),use_reduced_motion=__webpack_require__("./packages/compose/build-module/hooks/use-reduced-motion/index.js"),more_vertical=__webpack_require__("./packages/icons/build-module/library/more-vertical.js");const{DropdownMenuV2:dataviews_item_actions_DropdownMenu,DropdownMenuGroupV2:dataviews_item_actions_DropdownMenuGroup,DropdownMenuItemV2:dataviews_item_actions_DropdownMenuItem,DropdownMenuItemLabelV2:DropdownMenuItemLabel,kebabCase}=unlock(private_apis.Y);function ButtonTrigger({action,onClick,items}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(build_module_button.ZP,{label,icon:action.icon,isDestructive:action.isDestructive,size:"compact",onClick})}function DropdownMenuItemTrigger({action,onClick,items}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(dataviews_item_actions_DropdownMenuItem,{onClick,hideOnClick:!("RenderModal"in action),children:(0,jsx_runtime.jsx)(DropdownMenuItemLabel,{children:label})})}function ActionModal({action,items,closeModal}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(modal.Z,{title:action.modalHeader||label,__experimentalHideHeader:!!action.hideModalHeader,onRequestClose:null!=closeModal?closeModal:()=>{},focusOnMount:"firstContentElement",size:"small",overlayClassName:`dataviews-action-modal dataviews-action-modal__${kebabCase(action.id)}`,children:(0,jsx_runtime.jsx)(action.RenderModal,{items,closeModal})})}function dataviews_item_actions_ActionWithModal({action,items,ActionTrigger,isBusy}){const[isModalOpen,setIsModalOpen]=(0,react.useState)(!1),actionTriggerProps={action,onClick:()=>{setIsModalOpen(!0)},items,isBusy};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ActionTrigger,{...actionTriggerProps}),isModalOpen&&(0,jsx_runtime.jsx)(ActionModal,{action,items,closeModal:()=>setIsModalOpen(!1)})]})}function ActionsDropdownMenuGroup({actions,item}){const registry=(0,use_registry.Z)();return(0,jsx_runtime.jsx)(dataviews_item_actions_DropdownMenuGroup,{children:actions.map((action=>"RenderModal"in action?(0,jsx_runtime.jsx)(dataviews_item_actions_ActionWithModal,{action,items:[item],ActionTrigger:DropdownMenuItemTrigger},action.id):(0,jsx_runtime.jsx)(DropdownMenuItemTrigger,{action,onClick:()=>{action.callback([item],{registry})},items:[item]},action.id)))})}function ItemActions({item,actions,isCompact}){const registry=(0,use_registry.Z)(),{primaryActions,eligibleActions}=(0,react.useMemo)((()=>{const _eligibleActions=actions.filter((action=>!action.isEligible||action.isEligible(item)));return{primaryActions:_eligibleActions.filter((action=>action.isPrimary&&!!action.icon)),eligibleActions:_eligibleActions}}),[actions,item]);return isCompact?(0,jsx_runtime.jsx)(CompactItemActions,{item,actions:eligibleActions}):(0,jsx_runtime.jsxs)(component.Z,{spacing:1,justify:"flex-end",className:"dataviews-item-actions",style:{flexShrink:"0",width:"auto"},children:[!!primaryActions.length&&primaryActions.map((action=>"RenderModal"in action?(0,jsx_runtime.jsx)(dataviews_item_actions_ActionWithModal,{action,items:[item],ActionTrigger:ButtonTrigger},action.id):(0,jsx_runtime.jsx)(ButtonTrigger,{action,onClick:()=>{action.callback([item],{registry})},items:[item]},action.id))),(0,jsx_runtime.jsx)(CompactItemActions,{item,actions:eligibleActions})]})}function CompactItemActions({item,actions}){return(0,jsx_runtime.jsx)(dataviews_item_actions_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:more_vertical.Z,label:(0,build_module.__)("Actions"),accessibleWhenDisabled:!0,disabled:!actions.length,className:"dataviews-all-actions-button"}),placement:"bottom-end",children:(0,jsx_runtime.jsx)(ActionsDropdownMenuGroup,{actions,item})})}ButtonTrigger.displayName="ButtonTrigger",DropdownMenuItemTrigger.displayName="DropdownMenuItemTrigger",ActionModal.displayName="ActionModal",ActionsDropdownMenuGroup.displayName="ActionsDropdownMenuGroup",ItemActions.displayName="ItemActions",CompactItemActions.displayName="CompactItemActions";try{ActionModal.displayName="ActionModal",ActionModal.__docgenInfo={description:"",displayName:"ActionModal",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"ActionModal<Item>"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Item[]"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionModal"]={docgenInfo:ActionModal.__docgenInfo,name:"ActionModal",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionModal"})}catch(__react_docgen_typescript_loader_error){}try{dataviews_item_actions_ActionWithModal.displayName="ActionWithModal",dataviews_item_actions_ActionWithModal.__docgenInfo={description:"",displayName:"ActionWithModal",props:{ActionTrigger:{defaultValue:null,description:"",name:"ActionTrigger",required:!0,type:{name:"(props: ActionTriggerProps<Item>) => ReactElement<any, string | JSXElementConstructor<any>>"}},isBusy:{defaultValue:null,description:"",name:"isBusy",required:!1,type:{name:"boolean"}},action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"ActionModal<Item>"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Item[]"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!1,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionWithModal"]={docgenInfo:dataviews_item_actions_ActionWithModal.__docgenInfo,name:"ActionWithModal",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionWithModal"})}catch(__react_docgen_typescript_loader_error){}try{ActionsDropdownMenuGroup.displayName="ActionsDropdownMenuGroup",ActionsDropdownMenuGroup.__docgenInfo={description:"",displayName:"ActionsDropdownMenuGroup",props:{actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionsDropdownMenuGroup"]={docgenInfo:ActionsDropdownMenuGroup.__docgenInfo,name:"ActionsDropdownMenuGroup",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#ActionsDropdownMenuGroup"})}catch(__react_docgen_typescript_loader_error){}try{dataviewsitemactions.displayName="dataviewsitemactions",dataviewsitemactions.__docgenInfo={description:"",displayName:"dataviewsitemactions",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},isCompact:{defaultValue:null,description:"",name:"isCompact",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-item-actions/index.tsx#dataviewsitemactions"]={docgenInfo:dataviewsitemactions.__docgenInfo,name:"dataviewsitemactions",path:"packages/dataviews/src/components/dataviews-item-actions/index.tsx#dataviewsitemactions"})}catch(__react_docgen_typescript_loader_error){}const SNACKBAR_VARIANTS={init:{bottom:-48},open:{bottom:24,transition:{bottom:{type:"tween",duration:.2,ease:[0,0,.2,1]}}},exit:{opacity:0,bottom:24,transition:{opacity:{type:"tween",duration:.2,ease:[0,0,.2,1]}}}};function ActionTrigger({action,onClick,isBusy,items}){const label="string"==typeof action.label?action.label:action.label(items);return(0,jsx_runtime.jsx)(toolbar_button.Z,{disabled:isBusy,label,icon:action.icon,isDestructive:action.isDestructive,size:"compact",onClick,isBusy,tooltipPosition:"top"})}ActionTrigger.displayName="ActionTrigger";const EMPTY_ARRAY=[];function ActionButton({action,selectedItems,actionInProgress,setActionInProgress}){const registry=(0,use_registry.Z)(),selectedEligibleItems=(0,react.useMemo)((()=>selectedItems.filter((item=>!action.isEligible||action.isEligible(item)))),[action,selectedItems]);return"RenderModal"in action?(0,jsx_runtime.jsx)(dataviews_item_actions_ActionWithModal,{action,items:selectedEligibleItems,ActionTrigger},action.id):(0,jsx_runtime.jsx)(ActionTrigger,{action,onClick:()=>{setActionInProgress(action.id),action.callback(selectedItems,{registry})},items:selectedEligibleItems,isBusy:actionInProgress===action.id},action.id)}function renderToolbarContent(selection,actionsToShow,selectedItems,actionInProgress,setActionInProgress,onChangeSelection){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(toolbar_group.Z,{children:(0,jsx_runtime.jsx)("div",{className:"dataviews-bulk-actions-toolbar__selection-count",children:1===selection.length?(0,build_module.__)("1 item selected"):(0,build_module.gB)((0,build_module._n)("%s item selected","%s items selected",selection.length),selection.length)})}),(0,jsx_runtime.jsx)(toolbar_group.Z,{children:actionsToShow.map((action=>(0,jsx_runtime.jsx)(ActionButton,{action,selectedItems,actionInProgress,setActionInProgress},action.id)))}),(0,jsx_runtime.jsx)(toolbar_group.Z,{children:(0,jsx_runtime.jsx)(toolbar_button.Z,{icon:close_small.Z,showTooltip:!0,tooltipPosition:"top",label:(0,build_module.__)("Cancel"),disabled:!!actionInProgress,onClick:()=>{onChangeSelection(EMPTY_ARRAY)}})})]})}function ToolbarContent({selection,actionsToShow,selectedItems,onChangeSelection}){const[actionInProgress,setActionInProgress]=(0,react.useState)(null),buttons=(0,react.useRef)(null);return actionInProgress?(buttons.current||(buttons.current=renderToolbarContent(selection,actionsToShow,selectedItems,actionInProgress,setActionInProgress,onChangeSelection)),buttons.current):(buttons.current&&(buttons.current=null),renderToolbarContent(selection,actionsToShow,selectedItems,actionInProgress,setActionInProgress,onChangeSelection))}function _BulkActionsToolbar(){const{data,selection,actions=EMPTY_ARRAY,onChangeSelection,getItemId}=(0,react.useContext)(dataviews_context),isReducedMotion=(0,use_reduced_motion.Z)(),selectedItems=(0,react.useMemo)((()=>data.filter((item=>selection.includes(getItemId(item))))),[selection,data,getItemId]),actionsToShow=(0,react.useMemo)((()=>actions.filter((action=>action.supportsBulk&&action.icon&&selectedItems.some((item=>!action.isEligible||action.isEligible(item)))))),[actions,selectedItems]);return selection&&0===selection.length||0===actionsToShow.length?null:(0,jsx_runtime.jsx)(AnimatePresence.M,{children:(0,jsx_runtime.jsx)(motion.E.div,{layout:!isReducedMotion,initial:"init",animate:"open",exit:"exit",variants:isReducedMotion?void 0:SNACKBAR_VARIANTS,className:"dataviews-bulk-actions-toolbar",children:(0,jsx_runtime.jsx)(toolbar.Z,{label:(0,build_module.__)("Bulk actions"),children:(0,jsx_runtime.jsx)("div",{className:"dataviews-bulk-actions-toolbar__wrapper",children:(0,jsx_runtime.jsx)(ToolbarContent,{selection,actionsToShow,selectedItems,onChangeSelection})})})})})}function BulkActionsToolbar(){const{data,actions=[],view}=(0,react.useContext)(dataviews_context),hasPossibleBulkAction=useSomeItemHasAPossibleBulkAction(actions,data);return[LAYOUT_TABLE,LAYOUT_GRID].includes(view.type)&&hasPossibleBulkAction?(0,jsx_runtime.jsx)(_BulkActionsToolbar,{}):null}ActionButton.displayName="ActionButton",_BulkActionsToolbar.displayName="_BulkActionsToolbar",BulkActionsToolbar.displayName="BulkActionsToolbar";var clsx=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),flex_item_component=__webpack_require__("./packages/components/build-module/flex/flex-item/component.js"),select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),tooltip=__webpack_require__("./packages/components/build-module/tooltip/index.js"),icon=__webpack_require__("./packages/components/build-module/icon/index.js"),v_stack_component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),create_interpolate_element=__webpack_require__("./packages/element/build-module/create-interpolate-element.js"),DMSZFK7W=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/DMSZFK7W.js"),WL6TTPTB=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/WL6TTPTB.js"),combobox_provider=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-provider.js"),combobox_label=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-label.js"),combobox=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox.js"),Y3BYYHRY=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/__chunks/Y3BYYHRY.js"),combobox_item=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-item.js"),combobox_item_value=__webpack_require__("./packages/dataviews/node_modules/@ariakit/react-core/esm/combobox/combobox-item-value.js"),remove_accents=__webpack_require__("./node_modules/remove-accents/index.js"),remove_accents_default=__webpack_require__.n(remove_accents),visually_hidden_component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),check=__webpack_require__("./packages/icons/build-module/library/check.js"),search=__webpack_require__("./packages/icons/build-module/library/search.js"),svg=__webpack_require__("./packages/primitives/build-module/svg/index.js");const{CompositeV2:Composite,CompositeItemV2:CompositeItem,useCompositeStoreV2:useCompositeStore}=unlock(private_apis.Y),radioCheck=(0,jsx_runtime.jsx)(svg.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)(svg.Cd,{cx:12,cy:12,r:3})});function normalizeSearchInput(input=""){return remove_accents_default()(input.trim().toLowerCase())}const search_widget_EMPTY_ARRAY=[],getCurrentValue=(filterDefinition,currentFilter)=>filterDefinition.singleSelection?currentFilter?.value:Array.isArray(currentFilter?.value)?currentFilter.value:!Array.isArray(currentFilter?.value)&&currentFilter?.value?[currentFilter.value]:search_widget_EMPTY_ARRAY,getNewValue=(filterDefinition,currentFilter,value)=>filterDefinition.singleSelection?value:Array.isArray(currentFilter?.value)?currentFilter.value.includes(value)?currentFilter.value.filter((v=>v!==value)):[...currentFilter.value,value]:[value];function ListBox({view,filter,onChangeView}){const compositeStore=useCompositeStore({virtualFocus:!0,focusLoop:!0,defaultActiveId:1===filter.operators?.length?void 0:null}),currentFilter=view.filters?.find((f=>f.field===filter.field)),currentValue=getCurrentValue(filter,currentFilter);return(0,jsx_runtime.jsx)(Composite,{store:compositeStore,role:"listbox",className:"dataviews-filters__search-widget-listbox","aria-label":(0,build_module.gB)((0,build_module.__)("List of: %1$s"),filter.name),onFocusVisible:()=>{compositeStore.getState().activeId||compositeStore.move(compositeStore.first())},render:(0,jsx_runtime.jsx)(DMSZFK7W.$,{store:compositeStore}),children:filter.elements.map((element=>(0,jsx_runtime.jsxs)(WL6TTPTB.N,{store:compositeStore,render:(0,jsx_runtime.jsx)(CompositeItem,{render:(0,jsx_runtime.jsx)("div",{"aria-label":element.label,role:"option",className:"dataviews-filters__search-widget-listitem"}),onClick:()=>{var _view$filters,_view$filters2;const newFilters=currentFilter?[...(null!==(_view$filters=view.filters)&&void 0!==_view$filters?_view$filters:[]).map((_filter=>_filter.field===filter.field?{..._filter,operator:currentFilter.operator||filter.operators[0],value:getNewValue(filter,currentFilter,element.value)}:_filter))]:[...null!==(_view$filters2=view.filters)&&void 0!==_view$filters2?_view$filters2:[],{field:filter.field,operator:filter.operators[0],value:getNewValue(filter,currentFilter,element.value)}];onChangeView({...view,page:1,filters:newFilters})}}),children:[(0,jsx_runtime.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[filter.singleSelection&&currentValue===element.value&&(0,jsx_runtime.jsx)(icon.Z,{icon:radioCheck}),!filter.singleSelection&&currentValue.includes(element.value)&&(0,jsx_runtime.jsx)(icon.Z,{icon:check.Z})]}),(0,jsx_runtime.jsxs)("span",{children:[element.label,!!element.description&&(0,jsx_runtime.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:element.description})]})]},element.value)))})}function ComboboxList({view,filter,onChangeView}){const[searchValue,setSearchValue]=(0,react.useState)(""),deferredSearchValue=(0,react.useDeferredValue)(searchValue),currentFilter=view.filters?.find((_filter=>_filter.field===filter.field)),currentValue=getCurrentValue(filter,currentFilter),matches=(0,react.useMemo)((()=>{const normalizedSearch=normalizeSearchInput(deferredSearchValue);return filter.elements.filter((item=>normalizeSearchInput(item.label).includes(normalizedSearch)))}),[filter.elements,deferredSearchValue]);return(0,jsx_runtime.jsxs)(combobox_provider.e,{resetValueOnSelect:!1,selectedValue:currentValue,setSelectedValue:value=>{var _view$filters3,_view$filters4;const newFilters=currentFilter?[...(null!==(_view$filters3=view.filters)&&void 0!==_view$filters3?_view$filters3:[]).map((_filter=>_filter.field===filter.field?{..._filter,operator:currentFilter.operator||filter.operators[0],value}:_filter))]:[...null!==(_view$filters4=view.filters)&&void 0!==_view$filters4?_view$filters4:[],{field:filter.field,operator:filter.operators[0],value}];onChangeView({...view,page:1,filters:newFilters})},setValue:setSearchValue,children:[(0,jsx_runtime.jsxs)("div",{className:"dataviews-filters__search-widget-filter-combobox__wrapper",children:[(0,jsx_runtime.jsx)(combobox_label.N,{render:(0,jsx_runtime.jsx)(visually_hidden_component.Z,{children:(0,build_module.__)("Search items")}),children:(0,build_module.__)("Search items")}),(0,jsx_runtime.jsx)(combobox.h,{autoSelect:"always",placeholder:(0,build_module.__)("Search"),className:"dataviews-filters__search-widget-filter-combobox__input"}),(0,jsx_runtime.jsx)("div",{className:"dataviews-filters__search-widget-filter-combobox__icon",children:(0,jsx_runtime.jsx)(icon.Z,{icon:search.Z})})]}),(0,jsx_runtime.jsxs)(Y3BYYHRY.G,{className:"dataviews-filters__search-widget-filter-combobox-list",alwaysVisible:!0,children:[matches.map((element=>(0,jsx_runtime.jsxs)(combobox_item.l,{value:element.value,className:"dataviews-filters__search-widget-listitem",hideOnClick:!1,setValueOnClick:!1,focusOnHover:!0,children:[(0,jsx_runtime.jsxs)("span",{className:"dataviews-filters__search-widget-listitem-check",children:[filter.singleSelection&&currentValue===element.value&&(0,jsx_runtime.jsx)(icon.Z,{icon:radioCheck}),!filter.singleSelection&&currentValue.includes(element.value)&&(0,jsx_runtime.jsx)(icon.Z,{icon:check.Z})]}),(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)(combobox_item_value.X,{className:"dataviews-filters__search-widget-filter-combobox-item-value",value:element.label}),!!element.description&&(0,jsx_runtime.jsx)("span",{className:"dataviews-filters__search-widget-listitem-description",children:element.description})]})]},element.value))),!matches.length&&(0,jsx_runtime.jsx)("p",{children:(0,build_module.__)("No results found")})]})]})}function SearchWidget(props){const Widget=props.filter.elements.length>10?ComboboxList:ListBox;return(0,jsx_runtime.jsx)(Widget,{...props})}ListBox.displayName="ListBox",ComboboxList.displayName="ComboboxList",SearchWidget.displayName="SearchWidget";try{searchwidget.displayName="searchwidget",searchwidget.__docgenInfo={description:"",displayName:"searchwidget",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"NormalizedFilter"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/search-widget.tsx#searchwidget"]={docgenInfo:searchwidget.__docgenInfo,name:"searchwidget",path:"packages/dataviews/src/components/dataviews-filters/search-widget.tsx#searchwidget"})}catch(__react_docgen_typescript_loader_error){}const ENTER="Enter",SPACE=" ",FilterText=({activeElements,filterInView,filter})=>{if(void 0===activeElements||0===activeElements.length)return filter.name;const filterTextWrappers={Name:(0,jsx_runtime.jsx)("span",{className:"dataviews-filters__summary-filter-text-name"}),Value:(0,jsx_runtime.jsx)("span",{className:"dataviews-filters__summary-filter-text-value"})};return filterInView?.operator===OPERATOR_IS_ANY?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is any: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):filterInView?.operator===OPERATOR_IS_NONE?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is none: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):"isAll"===filterInView?.operator?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is all: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):"isNotAll"===filterInView?.operator?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is not all: </Name><Value>%2$s</Value>"),filter.name,activeElements.map((element=>element.label)).join(", ")),filterTextWrappers):filterInView?.operator===OPERATOR_IS?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is: </Name><Value>%2$s</Value>"),filter.name,activeElements[0].label),filterTextWrappers):filterInView?.operator===OPERATOR_IS_NOT?(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module.__)("<Name>%1$s is not: </Name><Value>%2$s</Value>"),filter.name,activeElements[0].label),filterTextWrappers):(0,build_module.gB)((0,build_module.__)("Unknown status for %1$s"),filter.name)};function OperatorSelector({filter,view,onChangeView}){const operatorOptions=filter.operators?.map((operator=>({value:operator,label:OPERATORS[operator]?.label}))),currentFilter=view.filters?.find((_filter=>_filter.field===filter.field)),value=currentFilter?.operator||filter.operators[0];return operatorOptions.length>1&&(0,jsx_runtime.jsxs)(component.Z,{spacing:2,justify:"flex-start",className:"dataviews-filters__summary-operators-container",children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-filters__summary-operators-filter-name",children:filter.name}),(0,jsx_runtime.jsx)(select_control.Z,{label:(0,build_module.__)("Conditions"),value,options:operatorOptions,onChange:newValue=>{var _view$filters,_view$filters2;const operator=newValue,newFilters=currentFilter?[...(null!==(_view$filters=view.filters)&&void 0!==_view$filters?_view$filters:[]).map((_filter=>_filter.field===filter.field?{..._filter,operator}:_filter))]:[...null!==(_view$filters2=view.filters)&&void 0!==_view$filters2?_view$filters2:[],{field:filter.field,operator,value:void 0}];onChangeView({...view,page:1,filters:newFilters})},size:"small",__nextHasNoMarginBottom:!0,hideLabelFromVision:!0})]})}function FilterSummary({addFilterRef,openedFilter,...commonProps}){const toggleRef=(0,react.useRef)(null),{filter,view,onChangeView}=commonProps,filterInView=view.filters?.find((f=>f.field===filter.field)),activeElements=filter.elements.filter((element=>filter.singleSelection?element.value===filterInView?.value:filterInView?.value?.includes(element.value))),isPrimary=filter.isPrimary,hasValues=void 0!==filterInView?.value,canResetOrRemove=!isPrimary||hasValues;return(0,jsx_runtime.jsx)(dropdown.Z,{defaultOpen:openedFilter===filter.field,contentClassName:"dataviews-filters__summary-popover",popoverProps:{placement:"bottom-start",role:"dialog"},onClose:()=>{toggleRef.current?.focus()},renderToggle:({isOpen,onToggle})=>(0,jsx_runtime.jsxs)("div",{className:"dataviews-filters__summary-chip-container",children:[(0,jsx_runtime.jsx)(tooltip.ZP,{text:(0,build_module.gB)((0,build_module.__)("Filter by: %1$s"),filter.name.toLowerCase()),placement:"top",children:(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)("dataviews-filters__summary-chip",{"has-reset":canResetOrRemove,"has-values":hasValues}),role:"button",tabIndex:0,onClick:onToggle,onKeyDown:event=>{[ENTER,SPACE].includes(event.key)&&(onToggle(),event.preventDefault())},"aria-pressed":isOpen,"aria-expanded":isOpen,ref:toggleRef,children:(0,jsx_runtime.jsx)(FilterText,{activeElements,filterInView,filter})})}),canResetOrRemove&&(0,jsx_runtime.jsx)(tooltip.ZP,{text:isPrimary?(0,build_module.__)("Reset"):(0,build_module.__)("Remove"),placement:"top",children:(0,jsx_runtime.jsx)("button",{className:(0,clsx.Z)("dataviews-filters__summary-chip-remove",{"has-values":hasValues}),onClick:()=>{onChangeView({...view,page:1,filters:view.filters?.filter((_filter=>_filter.field!==filter.field))}),isPrimary?toggleRef.current?.focus():addFilterRef.current?.focus()},children:(0,jsx_runtime.jsx)(icon.Z,{icon:close_small.Z})})})]}),renderContent:()=>(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:0,justify:"flex-start",children:[(0,jsx_runtime.jsx)(OperatorSelector,{...commonProps}),(0,jsx_runtime.jsx)(SearchWidget,{...commonProps})]})})}FilterSummary.displayName="FilterSummary";try{filtersummary.displayName="filtersummary",filtersummary.__docgenInfo={description:"",displayName:"filtersummary",props:{addFilterRef:{defaultValue:null,description:"",name:"addFilterRef",required:!0,type:{name:"RefObject<HTMLButtonElement>"}},openedFilter:{defaultValue:null,description:"",name:"openedFilter",required:!0,type:{name:"string"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"NormalizedFilter"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/filter-summary.tsx#filtersummary"]={docgenInfo:filtersummary.__docgenInfo,name:"filtersummary",path:"packages/dataviews/src/components/dataviews-filters/filter-summary.tsx#filtersummary"})}catch(__react_docgen_typescript_loader_error){}const{DropdownMenuV2:add_filter_DropdownMenu,DropdownMenuItemV2:add_filter_DropdownMenuItem,DropdownMenuItemLabelV2:add_filter_DropdownMenuItemLabel}=unlock(private_apis.Y);function AddFilter({filters,view,onChangeView,setOpenedFilter},ref){if(!filters.length||filters.every((({isPrimary})=>isPrimary)))return null;const inactiveFilters=filters.filter((filter=>!filter.isVisible));return(0,jsx_runtime.jsx)(add_filter_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{accessibleWhenDisabled:!0,size:"compact",className:"dataviews-filters__button",variant:"tertiary",disabled:!inactiveFilters.length,ref,children:(0,build_module.__)("Add filter")}),children:inactiveFilters.map((filter=>(0,jsx_runtime.jsx)(add_filter_DropdownMenuItem,{onClick:()=>{setOpenedFilter(filter.field),onChangeView({...view,page:1,filters:[...view.filters||[],{field:filter.field,value:void 0,operator:filter.operators[0]}]})},children:(0,jsx_runtime.jsx)(add_filter_DropdownMenuItemLabel,{children:filter.name})},filter.field)))})}AddFilter.displayName="AddFilter";const add_filter=(0,react.forwardRef)(AddFilter);function ResetFilter({filters,view,onChangeView}){const isDisabled=!view.search&&!view.filters?.some((_filter=>{return void 0!==_filter.value||(field=_filter.field,!filters.some((_filter=>_filter.field===field&&_filter.isPrimary)));var field}));return(0,jsx_runtime.jsx)(build_module_button.ZP,{disabled:isDisabled,accessibleWhenDisabled:!0,size:"compact",variant:"tertiary",className:"dataviews-filters__reset-button",onClick:()=>{onChangeView({...view,page:1,search:"",filters:[]})},children:(0,build_module.__)("Reset")})}ResetFilter.displayName="ResetFilter";try{resetfilters.displayName="resetfilters",resetfilters.__docgenInfo={description:"",displayName:"resetfilters",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"NormalizedFilter[]"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-filters/reset-filters.tsx#resetfilters"]={docgenInfo:resetfilters.__docgenInfo,name:"resetfilters",path:"packages/dataviews/src/components/dataviews-filters/reset-filters.tsx#resetfilters"})}catch(__react_docgen_typescript_loader_error){}function sanitizeOperators(field){let operators=field.filterBy?.operators;return operators&&Array.isArray(operators)||(operators=[OPERATOR_IS_ANY,OPERATOR_IS_NONE]),operators=operators.filter((operator=>ALL_OPERATORS.includes(operator))),(operators.includes(OPERATOR_IS)||operators.includes(OPERATOR_IS_NOT))&&(operators=operators.filter((operator=>[OPERATOR_IS,OPERATOR_IS_NOT].includes(operator)))),operators}function Filters(){const{fields,view,onChangeView,openedFilter,setOpenedFilter}=(0,react.useContext)(dataviews_context),addFilterRef=(0,react.useRef)(null),filters=[];fields.forEach((field=>{if(!field.elements?.length)return;const operators=sanitizeOperators(field);if(0===operators.length)return;const isPrimary=!!field.filterBy?.isPrimary;filters.push({field:field.id,name:field.label,elements:field.elements,singleSelection:operators.some((op=>[OPERATOR_IS,OPERATOR_IS_NOT].includes(op))),operators,isVisible:isPrimary||!!view.filters?.some((f=>f.field===field.id&&ALL_OPERATORS.includes(f.operator))),isPrimary})})),filters.sort(((a,b)=>a.isPrimary&&!b.isPrimary?-1:!a.isPrimary&&b.isPrimary?1:a.name.localeCompare(b.name)));const addFilter=(0,jsx_runtime.jsx)(add_filter,{filters,view,onChangeView,ref:addFilterRef,setOpenedFilter},"add-filter"),filterComponents=[...filters.map((filter=>filter.isVisible?(0,jsx_runtime.jsx)(FilterSummary,{filter,view,onChangeView,addFilterRef,openedFilter},filter.field):null)),addFilter];return filterComponents.length>1&&filterComponents.push((0,jsx_runtime.jsx)(ResetFilter,{filters,view,onChangeView},"reset-filters")),(0,jsx_runtime.jsx)(component.Z,{justify:"flex-start",style:{width:"fit-content"},wrap:!0,children:filterComponents})}Filters.displayName="Filters";const dataviews_filters=(0,react.memo)(Filters);var block_table=__webpack_require__("./packages/icons/build-module/library/block-table.js"),category=__webpack_require__("./packages/icons/build-module/library/category.js"),format_list_bullets_rtl=__webpack_require__("./packages/icons/build-module/library/format-list-bullets-rtl.js"),format_list_bullets=__webpack_require__("./packages/icons/build-module/library/format-list-bullets.js"),checkbox_control=__webpack_require__("./packages/components/build-module/checkbox-control/index.js"),spinner=__webpack_require__("./packages/components/build-module/spinner/index.js");function DataViewsSelectionCheckbox({selection,onChangeSelection,item,getItemId,primaryField,disabled}){const id=getItemId(item),checked=!disabled&&selection.includes(id);let selectionLabel;return selectionLabel=primaryField?.getValue&&item?(0,build_module.gB)(checked?(0,build_module.__)("Deselect item: %s"):(0,build_module.__)("Select item: %s"),primaryField.getValue({item})):checked?(0,build_module.__)("Select a new item"):(0,build_module.__)("Deselect item"),(0,jsx_runtime.jsx)(checkbox_control.C,{className:"dataviews-selection-checkbox",__nextHasNoMarginBottom:!0,"aria-label":selectionLabel,"aria-disabled":disabled,checked,onChange:()=>{disabled||onChangeSelection(selection.includes(id)?selection.filter((itemId=>id!==itemId)):[...selection,id])}})}DataViewsSelectionCheckbox.displayName="DataViewsSelectionCheckbox";try{dataviewsselectioncheckbox.displayName="dataviewsselectioncheckbox",dataviewsselectioncheckbox.__docgenInfo={description:"",displayName:"dataviewsselectioncheckbox",props:{selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Item"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},primaryField:{defaultValue:null,description:"",name:"primaryField",required:!1,type:{name:"{ type?: FieldType; id: string; label?: string; description?: string; placeholder?: string; render?: ComponentType<{ item: Item; }>; enableSorting?: boolean; enableGlobalSearch?: boolean; enableHiding?: boolean; elements?: Option<...>[]; filterBy?: FilterByConfig; } & ({ ...; } | { ...; })"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews-selection-checkbox/index.tsx#dataviewsselectioncheckbox"]={docgenInfo:dataviewsselectioncheckbox.__docgenInfo,name:"dataviewsselectioncheckbox",path:"packages/dataviews/src/components/dataviews-selection-checkbox/index.tsx#dataviewsselectioncheckbox"})}catch(__react_docgen_typescript_loader_error){}const library_funnel=(0,jsx_runtime.jsx)(svg.Wj,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)(svg.y$,{d:"M10 17.5H14V16H10V17.5ZM6 6V7.5H18V6H6ZM8 12.5H16V11H8V12.5Z"})});var arrow_left=__webpack_require__("./packages/icons/build-module/library/arrow-left.js"),arrow_right=__webpack_require__("./packages/icons/build-module/library/arrow-right.js"),unseen=__webpack_require__("./packages/icons/build-module/library/unseen.js");const{DropdownMenuV2:column_header_menu_DropdownMenu,DropdownMenuGroupV2:column_header_menu_DropdownMenuGroup,DropdownMenuItemV2:column_header_menu_DropdownMenuItem,DropdownMenuRadioItemV2:DropdownMenuRadioItem,DropdownMenuItemLabelV2:column_header_menu_DropdownMenuItemLabel,DropdownMenuSeparatorV2:column_header_menu_DropdownMenuSeparator}=unlock(private_apis.Y);function WithDropDownMenuSeparators({children}){return react.Children.toArray(children).filter(Boolean).map(((child,i)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[i>0&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuSeparator,{}),child]},i)))}const _HeaderMenu=(0,react.forwardRef)((function HeaderMenu({fieldId,view,fields,onChangeView,onHide,setOpenedFilter},ref){const combinedField=view.layout?.combinedFields?.find((f=>f.id===fieldId)),index=view.fields?.indexOf(fieldId);if(combinedField)return combinedField.label;const field=fields.find((f=>f.id===fieldId));if(!field)return null;const isHidable=!1!==field.enableHiding,isSortable=!1!==field.enableSorting,isSorted=view.sort?.field===field.id,operators=sanitizeOperators(field),canAddFilter=!(view.filters?.some((_filter=>field.id===_filter.field))||!field.elements?.length||!operators.length||field.filterBy?.isPrimary);return isSortable||isHidable||canAddFilter?(0,jsx_runtime.jsx)(column_header_menu_DropdownMenu,{align:"start",trigger:(0,jsx_runtime.jsxs)(build_module_button.ZP,{size:"compact",className:"dataviews-view-table-header-button",ref,variant:"tertiary",children:[field.label,view.sort&&isSorted&&(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:sortArrows[view.sort.direction]})]}),style:{minWidth:"240px"},children:(0,jsx_runtime.jsxs)(WithDropDownMenuSeparators,{children:[isSortable&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuGroup,{children:SORTING_DIRECTIONS.map((direction=>{const isChecked=view.sort&&isSorted&&view.sort.direction===direction,value=`${field.id}-${direction}`;return(0,jsx_runtime.jsx)(DropdownMenuRadioItem,{name:"view-table-sorting",value,checked:isChecked,onChange:()=>{onChangeView({...view,sort:{field:field.id,direction}})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItemLabel,{children:sortLabels[direction]})},value)}))}),canAddFilter&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuGroup,{children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItem,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:library_funnel}),onClick:()=>{setOpenedFilter(field.id),onChangeView({...view,page:1,filters:[...view.filters||[],{field:field.id,value:void 0,operator:operators[0]}]})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItemLabel,{children:(0,build_module.__)("Add filter")})})}),(0,jsx_runtime.jsxs)(column_header_menu_DropdownMenuGroup,{children:[(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItem,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:arrow_left.Z}),disabled:index<1,onClick:()=>{var _view$fields$slice;!view.fields||index<1||onChangeView({...view,fields:[...null!==(_view$fields$slice=view.fields.slice(0,index-1))&&void 0!==_view$fields$slice?_view$fields$slice:[],field.id,view.fields[index-1],...view.fields.slice(index+1)]})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItemLabel,{children:(0,build_module.__)("Move left")})}),(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItem,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:arrow_right.Z}),disabled:!view.fields||index>=view.fields.length-1,onClick:()=>{var _view$fields$slice2;!view.fields||index>=view.fields.length-1||onChangeView({...view,fields:[...null!==(_view$fields$slice2=view.fields.slice(0,index))&&void 0!==_view$fields$slice2?_view$fields$slice2:[],view.fields[index+1],field.id,...view.fields.slice(index+2)]})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItemLabel,{children:(0,build_module.__)("Move right")})}),isHidable&&(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItem,{prefix:(0,jsx_runtime.jsx)(icon.Z,{icon:unseen.Z}),onClick:()=>{const viewFields=view.fields||fields.map((f=>f.id));onHide(field),onChangeView({...view,fields:viewFields.filter((id=>id!==field.id))})},children:(0,jsx_runtime.jsx)(column_header_menu_DropdownMenuItemLabel,{children:(0,build_module.__)("Hide")})})]})]})}):field.label})),column_header_menu=_HeaderMenu;function BulkSelectionCheckbox({selection,onChangeSelection,data,actions,getItemId}){const selectableItems=(0,react.useMemo)((()=>data.filter((item=>actions.some((action=>action.supportsBulk&&(!action.isEligible||action.isEligible(item))))))),[data,actions]),selectedItems=data.filter((item=>selection.includes(getItemId(item))&&selectableItems.includes(item))),areAllSelected=selectedItems.length===selectableItems.length;return(0,jsx_runtime.jsx)(checkbox_control.C,{className:"dataviews-view-table-selection-checkbox",__nextHasNoMarginBottom:!0,checked:areAllSelected,indeterminate:!areAllSelected&&!!selectedItems.length,onChange:()=>{onChangeSelection(areAllSelected?[]:selectableItems.map((item=>getItemId(item))))},"aria-label":areAllSelected?(0,build_module.__)("Deselect all"):(0,build_module.__)("Select all")})}function TableColumn({column,fields,view,...props}){const field=fields.find((f=>f.id===column));if(field)return(0,jsx_runtime.jsx)(TableColumnField,{...props,field});const combinedField=view.layout?.combinedFields?.find((f=>f.id===column));return combinedField?(0,jsx_runtime.jsx)(TableColumnCombined,{...props,fields,view,field:combinedField}):null}function TableColumnField({primaryField,item,field}){return(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)("dataviews-view-table__cell-content-wrapper",{"dataviews-view-table__primary-field":primaryField?.id===field.id}),children:(0,jsx_runtime.jsx)(field.render,{item})})}function TableColumnCombined({field,...props}){const children=field.children.map((child=>(0,jsx_runtime.jsx)(TableColumn,{...props,column:child},child)));return"horizontal"===field.direction?(0,jsx_runtime.jsx)(component.Z,{spacing:3,children}):(0,jsx_runtime.jsx)(v_stack_component.Z,{spacing:0,children})}function TableRow({hasBulkActions,item,actions,fields,id,view,primaryField,selection,getItemId,onChangeSelection}){const hasPossibleBulkAction=useHasAPossibleBulkAction(actions,item),isSelected=hasPossibleBulkAction&&selection.includes(id),[isHovered,setIsHovered]=(0,react.useState)(!1),isTouchDevice=(0,react.useRef)(!1),columns=view.fields||fields.map((f=>f.id));return(0,jsx_runtime.jsxs)("tr",{className:(0,clsx.Z)("dataviews-view-table__row",{"is-selected":hasPossibleBulkAction&&isSelected,"is-hovered":isHovered,"has-bulk-actions":hasPossibleBulkAction}),onMouseEnter:()=>{setIsHovered(!0)},onMouseLeave:()=>{setIsHovered(!1)},onTouchStart:()=>{isTouchDevice.current=!0},onClick:()=>{hasPossibleBulkAction&&(isTouchDevice.current||"Range"===document.getSelection()?.type||onChangeSelection(selection.includes(id)?selection.filter((itemId=>id!==itemId)):[id]))},children:[hasBulkActions&&(0,jsx_runtime.jsx)("td",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},children:(0,jsx_runtime.jsx)("div",{className:"dataviews-view-table__cell-content-wrapper",children:(0,jsx_runtime.jsx)(DataViewsSelectionCheckbox,{item,selection,onChangeSelection,getItemId,primaryField,disabled:!hasPossibleBulkAction})})}),columns.map((column=>{var _view$layout$styles$c;const{width,maxWidth,minWidth}=null!==(_view$layout$styles$c=view.layout?.styles?.[column])&&void 0!==_view$layout$styles$c?_view$layout$styles$c:{};return(0,jsx_runtime.jsx)("td",{style:{width,maxWidth,minWidth},children:(0,jsx_runtime.jsx)(TableColumn,{primaryField,fields,item,column,view})},column)})),!!actions?.length&&(0,jsx_runtime.jsx)("td",{className:"dataviews-view-table__actions-column",onClick:e=>e.stopPropagation(),children:(0,jsx_runtime.jsx)(ItemActions,{item,actions})})]})}function ViewTable({actions,data,fields,getItemId,isLoading=!1,onChangeView,onChangeSelection,selection,setOpenedFilter,view}){const headerMenuRefs=(0,react.useRef)(new Map),headerMenuToFocusRef=(0,react.useRef)(),[nextHeaderMenuToFocus,setNextHeaderMenuToFocus]=(0,react.useState)(),hasBulkActions=useSomeItemHasAPossibleBulkAction(actions,data);(0,react.useEffect)((()=>{headerMenuToFocusRef.current&&(headerMenuToFocusRef.current.focus(),headerMenuToFocusRef.current=void 0)}));const tableNoticeId=(0,react.useId)();if(nextHeaderMenuToFocus)return headerMenuToFocusRef.current=nextHeaderMenuToFocus,void setNextHeaderMenuToFocus(void 0);const onHide=field=>{const hidden=headerMenuRefs.current.get(field.id),fallback=hidden?headerMenuRefs.current.get(hidden.fallback):void 0;setNextHeaderMenuToFocus(fallback?.node)},columns=view.fields||fields.map((f=>f.id)),hasData=!!data?.length,primaryField=fields.find((field=>field.id===view.layout?.primaryField));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("table",{className:"dataviews-view-table","aria-busy":isLoading,"aria-describedby":tableNoticeId,children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{className:"dataviews-view-table__row",children:[hasBulkActions&&(0,jsx_runtime.jsx)("th",{className:"dataviews-view-table__checkbox-column",style:{width:"1%"},scope:"col",children:(0,jsx_runtime.jsx)(BulkSelectionCheckbox,{selection,onChangeSelection,data,actions,getItemId})}),columns.map(((column,index)=>{var _view$layout$styles$c2;const{width,maxWidth,minWidth}=null!==(_view$layout$styles$c2=view.layout?.styles?.[column])&&void 0!==_view$layout$styles$c2?_view$layout$styles$c2:{};return(0,jsx_runtime.jsx)("th",{style:{width,maxWidth,minWidth},"aria-sort":view.sort?.field===column?sortValues[view.sort.direction]:void 0,scope:"col",children:(0,jsx_runtime.jsx)(column_header_menu,{ref:node=>{node?headerMenuRefs.current.set(column,{node,fallback:columns[index>0?index-1:1]}):headerMenuRefs.current.delete(column)},fieldId:column,view,fields,onChangeView,onHide,setOpenedFilter})},column)})),!!actions?.length&&(0,jsx_runtime.jsx)("th",{className:"dataviews-view-table__actions-column",children:(0,jsx_runtime.jsx)("span",{className:"dataviews-view-table-header",children:(0,build_module.__)("Actions")})})]})}),(0,jsx_runtime.jsx)("tbody",{children:hasData&&data.map(((item,index)=>(0,jsx_runtime.jsx)(TableRow,{item,hasBulkActions,actions,fields,id:getItemId(item)||index.toString(),view,primaryField,selection,getItemId,onChangeSelection},getItemId(item))))})]}),(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)({"dataviews-loading":isLoading,"dataviews-no-results":!hasData&&!isLoading}),id:tableNoticeId,children:!hasData&&(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})]})}BulkSelectionCheckbox.displayName="BulkSelectionCheckbox",TableColumnField.displayName="TableColumnField",TableColumnCombined.displayName="TableColumnCombined",TableRow.displayName="TableRow";const table=ViewTable;try{ViewTable.displayName="ViewTable",ViewTable.__docgenInfo={description:"",displayName:"ViewTable",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"ViewTable"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"NormalizedField<Item>[]"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(fieldId: string) => void"}},density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/layouts/table/index.tsx#ViewTable"]={docgenInfo:ViewTable.__docgenInfo,name:"ViewTable",path:"packages/dataviews/src/layouts/table/index.tsx#ViewTable"})}catch(__react_docgen_typescript_loader_error){}var flex_component=__webpack_require__("./packages/components/build-module/flex/flex/component.js"),grid_component=__webpack_require__("./packages/components/build-module/grid/component.js");function GridItem({selection,onChangeSelection,getItemId,item,actions,mediaField,primaryField,visibleFields,badgeFields,columnFields}){const hasBulkAction=useHasAPossibleBulkAction(actions,item),id=getItemId(item),isSelected=selection.includes(id),renderedMediaField=mediaField?.render?(0,jsx_runtime.jsx)(mediaField.render,{item}):null,renderedPrimaryField=primaryField?.render?(0,jsx_runtime.jsx)(primaryField.render,{item}):null;return(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:0,className:(0,clsx.Z)("dataviews-view-grid__card",{"is-selected":hasBulkAction&&isSelected}),onClickCapture:event=>{if(event.ctrlKey||event.metaKey){if(event.stopPropagation(),event.preventDefault(),!hasBulkAction)return;onChangeSelection(selection.includes(id)?selection.filter((itemId=>id!==itemId)):[...selection,id])}},children:[(0,jsx_runtime.jsx)("div",{className:"dataviews-view-grid__media",children:renderedMediaField}),(0,jsx_runtime.jsxs)(component.Z,{justify:"space-between",className:"dataviews-view-grid__title-actions",children:[(0,jsx_runtime.jsx)(DataViewsSelectionCheckbox,{item,selection,onChangeSelection,getItemId,primaryField,disabled:!hasBulkAction}),(0,jsx_runtime.jsx)(component.Z,{className:"dataviews-view-grid__primary-field",children:renderedPrimaryField}),(0,jsx_runtime.jsx)(ItemActions,{item,actions,isCompact:!0})]}),!!badgeFields?.length&&(0,jsx_runtime.jsx)(component.Z,{className:"dataviews-view-grid__badge-fields",spacing:2,wrap:!0,alignment:"top",justify:"flex-start",children:badgeFields.map((field=>(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-view-grid__field-value",children:(0,jsx_runtime.jsx)(field.render,{item})},field.id)))}),!!visibleFields?.length&&(0,jsx_runtime.jsx)(v_stack_component.Z,{className:"dataviews-view-grid__fields",spacing:1,children:visibleFields.map((field=>(0,jsx_runtime.jsx)(flex_component.Z,{className:(0,clsx.Z)("dataviews-view-grid__field",columnFields?.includes(field.id)?"is-column":"is-row"),gap:1,justify:"flex-start",expanded:!0,style:{height:"auto"},direction:columnFields?.includes(field.id)?"column":"row",children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-view-grid__field-name",children:field.label}),(0,jsx_runtime.jsx)(flex_item_component.Z,{className:"dataviews-view-grid__field-value",style:{maxHeight:"none"},children:(0,jsx_runtime.jsx)(field.render,{item})})]})},field.id)))})]},id)}GridItem.displayName="GridItem";try{grid.displayName="grid",grid.__docgenInfo={description:"",displayName:"grid",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"ViewGrid"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"NormalizedField<Item>[]"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(fieldId: string) => void"}},density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/layouts/grid/index.tsx#grid"]={docgenInfo:grid.__docgenInfo,name:"grid",path:"packages/dataviews/src/layouts/grid/index.tsx#grid"})}catch(__react_docgen_typescript_loader_error){}var use_instance_id=__webpack_require__("./packages/compose/build-module/hooks/use-instance-id/index.js");const{useCompositeStoreV2:list_useCompositeStore,CompositeV2:list_Composite,CompositeItemV2:list_CompositeItem,CompositeRowV2:CompositeRow,DropdownMenuV2:list_DropdownMenu}=unlock(private_apis.Y);function ListItem({actions,id,isSelected,item,mediaField,onSelect,primaryField,store,visibleFields}){const registry=(0,use_registry.Z)(),itemRef=(0,react.useRef)(null),labelId=`${id}-label`,descriptionId=`${id}-description`,[isHovered,setIsHovered]=(0,react.useState)(!1);(0,react.useEffect)((()=>{isSelected&&itemRef.current?.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}),[isSelected]);const{primaryAction,eligibleActions}=(0,react.useMemo)((()=>{const _eligibleActions=actions.filter((action=>!action.isEligible||action.isEligible(item))),_primaryActions=_eligibleActions.filter((action=>action.isPrimary&&!!action.icon));return{primaryAction:_primaryActions?.[0],eligibleActions:_eligibleActions}}),[actions,item]),[isModalOpen,setIsModalOpen]=(0,react.useState)(!1),primaryActionLabel=primaryAction&&("string"==typeof primaryAction.label?primaryAction.label:primaryAction.label([item])),renderedMediaField=mediaField?.render?(0,jsx_runtime.jsx)(mediaField.render,{item}):(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__media-placeholder"}),renderedPrimaryField=primaryField?.render?(0,jsx_runtime.jsx)(primaryField.render,{item}):null;return(0,jsx_runtime.jsx)(CompositeRow,{ref:itemRef,render:(0,jsx_runtime.jsx)("li",{}),role:"row",className:(0,clsx.Z)({"is-selected":isSelected,"is-hovered":isHovered}),onMouseEnter:()=>{setIsHovered(!0)},onMouseLeave:()=>{setIsHovered(!1)},children:(0,jsx_runtime.jsxs)(component.Z,{className:"dataviews-view-list__item-wrapper",alignment:"center",spacing:0,children:[(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)("div",{}),role:"button",id,"aria-pressed":isSelected,"aria-labelledby":labelId,"aria-describedby":descriptionId,className:"dataviews-view-list__item",onClick:()=>onSelect(item),children:(0,jsx_runtime.jsxs)(component.Z,{spacing:3,justify:"start",alignment:"flex-start",children:[(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__media-wrapper",children:renderedMediaField}),(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:1,className:"dataviews-view-list__field-wrapper",children:[(0,jsx_runtime.jsx)("span",{className:"dataviews-view-list__primary-field",id:labelId,children:renderedPrimaryField}),(0,jsx_runtime.jsx)("div",{className:"dataviews-view-list__fields",id:descriptionId,children:visibleFields.map((field=>(0,jsx_runtime.jsxs)("div",{className:"dataviews-view-list__field",children:[(0,jsx_runtime.jsx)(visually_hidden_component.Z,{as:"span",className:"dataviews-view-list__field-label",children:field.label}),(0,jsx_runtime.jsx)("span",{className:"dataviews-view-list__field-value",children:(0,jsx_runtime.jsx)(field.render,{item})})]},field.id)))})]})]})})}),eligibleActions?.length>0&&(0,jsx_runtime.jsxs)(component.Z,{spacing:3,justify:"flex-end",className:"dataviews-view-list__item-actions",style:{flexShrink:"0",width:"auto"},children:[primaryAction&&"RenderModal"in primaryAction&&(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)(build_module_button.ZP,{label:primaryActionLabel,icon:primaryAction.icon,isDestructive:primaryAction.isDestructive,size:"small",onClick:()=>setIsModalOpen(!0)}),children:isModalOpen&&(0,jsx_runtime.jsx)(ActionModal,{action:primaryAction,items:[item],closeModal:()=>setIsModalOpen(!1)})})}),primaryAction&&!("RenderModal"in primaryAction)&&(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)(build_module_button.ZP,{label:primaryActionLabel,icon:primaryAction.icon,isDestructive:primaryAction.isDestructive,size:"small",onClick:()=>{primaryAction.callback([item],{registry})}})})},primaryAction.id),(0,jsx_runtime.jsx)("div",{role:"gridcell",children:(0,jsx_runtime.jsx)(list_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(list_CompositeItem,{store,render:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"small",icon:more_vertical.Z,label:(0,build_module.__)("Actions"),accessibleWhenDisabled:!0,disabled:!actions.length,onKeyDown:event=>{"ArrowDown"===event.key&&(event.preventDefault(),store.move(store.down())),"ArrowUp"===event.key&&(event.preventDefault(),store.move(store.up()))}})}),placement:"bottom-end",children:(0,jsx_runtime.jsx)(ActionsDropdownMenuGroup,{actions:eligibleActions,item})})})]})]})})}function ViewList(props){const{actions,data,fields,getItemId,isLoading,onChangeSelection,selection,view}=props,baseId=(0,use_instance_id.Z)(ViewList,"view-list"),selectedItem=data?.findLast((item=>selection.includes(getItemId(item)))),mediaField=fields.find((field=>field.id===view.layout?.mediaField)),primaryField=fields.find((field=>field.id===view.layout?.primaryField)),viewFields=view.fields||fields.map((field=>field.id)),visibleFields=fields.filter((field=>viewFields.includes(field.id)&&![view.layout?.primaryField,view.layout?.mediaField].includes(field.id))),onSelect=item=>onChangeSelection([getItemId(item)]),getItemDomId=(0,react.useCallback)((item=>item?`${baseId}-${getItemId(item)}`:void 0),[baseId,getItemId]),store=list_useCompositeStore({defaultActiveId:getItemDomId(selectedItem)}),isActiveIdInList=store.useState((state=>state.items.some((item=>item.id===state.activeId))));(0,react.useEffect)((()=>{isActiveIdInList||(store.down()?store.move(store.down()):store.up()&&store.move(store.up()))}),[isActiveIdInList]);const hasData=data?.length;return hasData?(0,jsx_runtime.jsx)(list_Composite,{id:baseId,render:(0,jsx_runtime.jsx)("ul",{}),className:"dataviews-view-list",role:"grid",store,children:data.map((item=>{const id=getItemDomId(item);return(0,jsx_runtime.jsx)(ListItem,{id,actions,item,isSelected:item===selectedItem,onSelect,mediaField,primaryField,store,visibleFields},id)}))}):(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)({"dataviews-loading":isLoading,"dataviews-no-results":!hasData&&!isLoading}),children:!hasData&&(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})}ListItem.displayName="ListItem",ViewList.displayName="ViewList";try{list.displayName="list",list.__docgenInfo={description:"",displayName:"list",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"ViewList"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"NormalizedField<Item>[]"}},getItemId:{defaultValue:null,description:"",name:"getItemId",required:!0,type:{name:"(item: Item) => string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!0,type:{name:"SetSelection"}},selection:{defaultValue:null,description:"",name:"selection",required:!0,type:{name:"string[]"}},setOpenedFilter:{defaultValue:null,description:"",name:"setOpenedFilter",required:!0,type:{name:"(fieldId: string) => void"}},density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/layouts/list/index.tsx#list"]={docgenInfo:list.__docgenInfo,name:"list",path:"packages/dataviews/src/layouts/list/index.tsx#list"})}catch(__react_docgen_typescript_loader_error){}const VIEW_LAYOUTS=[{type:LAYOUT_TABLE,label:(0,build_module.__)("Table"),component:table,icon:block_table.Z},{type:LAYOUT_GRID,label:(0,build_module.__)("Grid"),component:function ViewGrid({actions,data,fields,getItemId,isLoading,onChangeSelection,selection,view,density}){const mediaField=fields.find((field=>field.id===view.layout?.mediaField)),primaryField=fields.find((field=>field.id===view.layout?.primaryField)),viewFields=view.fields||fields.map((field=>field.id)),{visibleFields,badgeFields}=fields.reduce(((accumulator,field)=>{if(!viewFields.includes(field.id)||[view.layout?.mediaField,view?.layout?.primaryField].includes(field.id))return accumulator;return accumulator[view.layout?.badgeFields?.includes(field.id)?"badgeFields":"visibleFields"].push(field),accumulator}),{visibleFields:[],badgeFields:[]}),hasData=!!data?.length,gridStyle=density?{gridTemplateColumns:`repeat(${density}, minmax(0, 1fr))`}:{};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[hasData&&(0,jsx_runtime.jsx)(grid_component.Z,{gap:8,columns:2,alignment:"top",className:"dataviews-view-grid",style:gridStyle,"aria-busy":isLoading,children:data.map((item=>(0,jsx_runtime.jsx)(GridItem,{selection,onChangeSelection,getItemId,item,actions,mediaField,primaryField,visibleFields,badgeFields,columnFields:view.layout?.columnFields},getItemId(item))))}),!hasData&&(0,jsx_runtime.jsx)("div",{className:(0,clsx.Z)({"dataviews-loading":isLoading,"dataviews-no-results":!isLoading}),children:(0,jsx_runtime.jsx)("p",{children:isLoading?(0,jsx_runtime.jsx)(spinner.ZP,{}):(0,build_module.__)("No results")})})]})},icon:category.Z},{type:"list",label:(0,build_module.__)("List"),component:ViewList,icon:(0,build_module.dZ)()?format_list_bullets_rtl.Z:format_list_bullets.Z}];function DataViewsLayout(){const{actions=[],data,fields,getItemId,isLoading,view,onChangeView,selection,onChangeSelection,setOpenedFilter,density}=(0,react.useContext)(dataviews_context),ViewComponent=VIEW_LAYOUTS.find((v=>v.type===view.type))?.component;return(0,jsx_runtime.jsx)(ViewComponent,{actions,data,fields,getItemId,isLoading,onChangeView,onChangeSelection,selection,setOpenedFilter,view,density})}DataViewsLayout.displayName="DataViewsLayout";var previous=__webpack_require__("./packages/icons/build-module/library/previous.js"),next=__webpack_require__("./packages/icons/build-module/library/next.js");const dataviews_pagination=(0,react.memo)((function DataViewsPagination(){var _view$page;const{view,onChangeView,paginationInfo:{totalItems=0,totalPages}}=(0,react.useContext)(dataviews_context);if(!totalItems||!totalPages)return null;const currentPage=null!==(_view$page=view.page)&&void 0!==_view$page?_view$page:1;return!!totalItems&&1!==totalPages&&(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,spacing:6,justify:"end",className:"dataviews-pagination",children:[(0,jsx_runtime.jsx)(component.Z,{justify:"flex-start",expanded:!1,spacing:2,className:"dataviews-pagination__page-selection",children:(0,create_interpolate_element.Z)((0,build_module.gB)((0,build_module._x)("Page <CurrentPageControl /> of %s","paging"),totalPages),{CurrentPageControl:(0,jsx_runtime.jsx)(select_control.Z,{"aria-label":(0,build_module.__)("Current page"),value:view.page?.toString(),options:Array.from(Array(totalPages)).map(((_,i)=>{const page=i+1;return{value:page.toString(),label:page.toString()}})),onChange:newValue=>{onChangeView({...view,page:+newValue})},size:"compact",__nextHasNoMarginBottom:!0})})}),(0,jsx_runtime.jsxs)(component.Z,{expanded:!1,spacing:1,children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>onChangeView({...view,page:currentPage-1}),disabled:1===currentPage,accessibleWhenDisabled:!0,label:(0,build_module.__)("Previous page"),icon:previous.Z,showTooltip:!0,size:"compact",tooltipPosition:"top"}),(0,jsx_runtime.jsx)(build_module_button.ZP,{onClick:()=>onChangeView({...view,page:currentPage+1}),disabled:currentPage>=totalPages,accessibleWhenDisabled:!0,label:(0,build_module.__)("Next page"),icon:next.Z,showTooltip:!0,size:"compact",tooltipPosition:"top"})]})]})}));var search_control=__webpack_require__("./packages/components/build-module/search-control/index.js"),use_debounced_input=__webpack_require__("./packages/compose/build-module/hooks/use-debounced-input/index.js");const DataViewsSearch=(0,react.memo)((function Search({label}){const{view,onChangeView}=(0,react.useContext)(dataviews_context),[search,setSearch,debouncedSearch]=(0,use_debounced_input.Z)(view.search);(0,react.useEffect)((()=>{var _view$search;setSearch(null!==(_view$search=view.search)&&void 0!==_view$search?_view$search:"")}),[view.search,setSearch]);const onChangeViewRef=(0,react.useRef)(onChangeView),viewRef=(0,react.useRef)(view);(0,react.useEffect)((()=>{onChangeViewRef.current=onChangeView,viewRef.current=view}),[onChangeView,view]),(0,react.useEffect)((()=>{onChangeViewRef.current({...viewRef.current,page:1,search:debouncedSearch})}),[debouncedSearch]);const searchLabel=label||(0,build_module.__)("Search");return(0,jsx_runtime.jsx)(search_control.Z,{__nextHasNoMarginBottom:!0,onChange:setSearch,value:search,label:searchLabel,placeholder:searchLabel,size:"compact"})})),dataviews_search=DataViewsSearch;var cog=__webpack_require__("./packages/icons/build-module/library/cog.js");const{DropdownMenuV2:dataviews_view_config_DropdownMenu,DropdownMenuGroupV2:dataviews_view_config_DropdownMenuGroup,DropdownMenuItemV2:dataviews_view_config_DropdownMenuItem,DropdownMenuRadioItemV2:dataviews_view_config_DropdownMenuRadioItem,DropdownMenuCheckboxItemV2:DropdownMenuCheckboxItem,DropdownMenuItemLabelV2:dataviews_view_config_DropdownMenuItemLabel}=unlock(private_apis.Y);function ViewTypeMenu({view,onChangeView,defaultLayouts={list:{},grid:{},table:{}}}){const availableLayouts=Object.keys(defaultLayouts);return availableLayouts.length<=1?null:availableLayouts.map((layout=>{const config=VIEW_LAYOUTS.find((v=>v.type===layout));return config?(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuRadioItem,{value:layout,name:"view-actions-available-view",checked:layout===view.type,hideOnClick:!0,onChange:e=>{switch(e.target.value){case"list":case"grid":case"table":return onChangeView({...view,type:e.target.value,...defaultLayouts[e.target.value]})}throw new Error("Invalid dataview")},children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:config.label})},layout):null}))}const PAGE_SIZE_VALUES=[10,20,50,100];function PageSizeMenu({view,onChangeView}){return(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItem,{suffix:(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:view.perPage}),children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:(0,build_module.__)("Items per page")})}),children:PAGE_SIZE_VALUES.map((size=>(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuRadioItem,{value:size,name:"view-actions-page-size",checked:view.perPage===size,onChange:()=>{onChangeView({...view,perPage:size,page:1})},children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:size})},size)))})}function FieldsVisibilityMenu({view,onChangeView,fields}){const mandatoryFields=function getMandatoryFields(view){var _view$layout$combined;return"table"===view.type?[view.layout?.primaryField].concat(null!==(_view$layout$combined=view.layout?.combinedFields?.flatMap((field=>field.children)))&&void 0!==_view$layout$combined?_view$layout$combined:[]).filter((item=>!!item)):"grid"===view.type||"list"===view.type?[view.layout?.primaryField,view.layout?.mediaField].filter((item=>!!item)):[]}(view),hidableFields=fields.filter((field=>!1!==field.enableHiding&&!mandatoryFields.includes(field.id))),viewFields=view.fields||fields.map((field=>field.id));return hidableFields?.length?(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItem,{children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:(0,build_module.__)("Fields")})}),children:hidableFields?.map((field=>(0,jsx_runtime.jsx)(DropdownMenuCheckboxItem,{value:field.id,checked:viewFields.includes(field.id),onChange:()=>{onChangeView({...view,fields:viewFields.includes(field.id)?viewFields.filter((id=>id!==field.id)):[...viewFields,field.id]})},children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:field.label})},field.id)))}):null}function SortMenu({fields,view,onChangeView}){const sortableFields=fields.filter((field=>!1!==field.enableSorting));if(!sortableFields?.length)return null;const currentSortedField=fields.find((field=>field.id===view.sort?.field));return(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItem,{suffix:(0,jsx_runtime.jsx)("span",{"aria-hidden":"true",children:currentSortedField?.label}),children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:(0,build_module.__)("Sort by")})}),children:sortableFields?.map((field=>{const sortedDirection=view.sort?.direction;return(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItem,{children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:field.label})}),style:{minWidth:"220px"},children:SORTING_DIRECTIONS.map((direction=>{const isChecked=void 0!==currentSortedField&&sortedDirection===direction&&field.id===currentSortedField.id,value=`${field.id}-${direction}`;return(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuRadioItem,{name:"view-actions-sorting",value,checked:isChecked,onChange:()=>{onChangeView({...view,sort:{field:field.id,direction}})},children:(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenuItemLabel,{children:sortLabels[direction]})},value)}))},field.id)}))})}PageSizeMenu.displayName="PageSizeMenu",FieldsVisibilityMenu.displayName="FieldsVisibilityMenu",SortMenu.displayName="SortMenu";const DataViewsViewConfig=(0,react.memo)((function _DataViewsViewConfig({defaultLayouts}){const{view,fields,onChangeView}=(0,react.useContext)(dataviews_context),activeView=VIEW_LAYOUTS.find((v=>view.type===v.type));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(component.Z,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:activeView?.icon,label:(0,build_module.__)("Layout")}),children:(0,jsx_runtime.jsx)(ViewTypeMenu,{view,onChangeView,defaultLayouts})}),(0,jsx_runtime.jsx)(dataviews_view_config_DropdownMenu,{trigger:(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:cog.Z,label:(0,build_module._x)("View options","View is used as a noun")}),children:(0,jsx_runtime.jsxs)(dataviews_view_config_DropdownMenuGroup,{children:[(0,jsx_runtime.jsx)(SortMenu,{fields,view,onChangeView}),(0,jsx_runtime.jsx)(FieldsVisibilityMenu,{fields,view,onChangeView}),(0,jsx_runtime.jsx)(PageSizeMenu,{view,onChangeView})]})})]})})})),dataviews_view_config=DataViewsViewConfig;var normalize_fields=__webpack_require__("./packages/dataviews/src/normalize-fields.ts"),range_control=__webpack_require__("./packages/components/build-module/range-control/index.js"),use_viewport_match=__webpack_require__("./packages/compose/build-module/hooks/use-viewport-match/index.js"),line_solid=__webpack_require__("./packages/icons/build-module/library/line-solid.js"),plus=__webpack_require__("./packages/icons/build-module/library/plus.js");const viewportBreaks={xhuge:{min:3,max:6,default:5},huge:{min:2,max:4,default:4},xlarge:{min:2,max:3,default:3},large:{min:1,max:2,default:2},mobile:{min:1,max:2,default:2}};function DensityPicker({density,setDensity}){const viewport=function useViewPortBreakpoint(){const isXHuge=(0,use_viewport_match.Z)("xhuge",">="),isHuge=(0,use_viewport_match.Z)("huge",">="),isXlarge=(0,use_viewport_match.Z)("xlarge",">="),isLarge=(0,use_viewport_match.Z)("large",">="),isMobile=(0,use_viewport_match.Z)("mobile",">=");return isXHuge?"xhuge":isHuge?"huge":isXlarge?"xlarge":isLarge?"large":isMobile?"mobile":null}();if((0,react.useEffect)((()=>{setDensity((_density=>{if(!viewport||!_density)return 0;const breakValues=viewportBreaks[viewport];return _density<breakValues.min?breakValues.min:_density>breakValues.max?breakValues.max:_density}))}),[setDensity,viewport]),!viewport)return null;const breakValues=viewportBreaks[viewport],densityToUse=density||breakValues.default,rangeValue=function getRangeValue(density,breakValues){const inverseDensity=breakValues.max-density,max=breakValues.max-breakValues.min;return Math.round(100*inverseDensity/max)}(densityToUse,breakValues),step=100/(breakValues.max-breakValues.min+1);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:line_solid.Z,disabled:rangeValue<=0,accessibleWhenDisabled:!0,label:(0,build_module.__)("Decrease size"),onClick:()=>{setDensity(densityToUse+1)}}),(0,jsx_runtime.jsx)(range_control.Z,{__nextHasNoMarginBottom:!0,showTooltip:!1,className:"dataviews-density-picker__range-control",label:(0,build_module.__)("Item size"),hideLabelFromVision:!0,value:rangeValue,min:0,max:100,withInputField:!1,onChange:(value=0)=>{const inverseValue=100-value;setDensity(Math.round(inverseValue*(breakValues.max-breakValues.min)/100+breakValues.min))},step}),(0,jsx_runtime.jsx)(build_module_button.ZP,{size:"compact",icon:plus.Z,disabled:rangeValue>=100,accessibleWhenDisabled:!0,label:(0,build_module.__)("Increase size"),onClick:()=>{setDensity(densityToUse-1)}})]})}try{densitypicker.displayName="densitypicker",densitypicker.__docgenInfo={description:"",displayName:"densitypicker",props:{density:{defaultValue:null,description:"",name:"density",required:!0,type:{name:"number"}},setDensity:{defaultValue:null,description:"",name:"setDensity",required:!0,type:{name:"Dispatch<SetStateAction<number>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/layouts/grid/density-picker.tsx#densitypicker"]={docgenInfo:densitypicker.__docgenInfo,name:"densitypicker",path:"packages/dataviews/src/layouts/grid/density-picker.tsx#densitypicker"})}catch(__react_docgen_typescript_loader_error){}const defaultGetItemId=item=>item.id;function DataViews({view,onChangeView,fields,search=!0,searchLabel,actions=[],data,getItemId=defaultGetItemId,isLoading=!1,paginationInfo,defaultLayouts,selection:selectionProperty,onChangeSelection,header}){const[selectionState,setSelectionState]=(0,react.useState)([]),[density,setDensity]=(0,react.useState)(0),isUncontrolled=void 0===selectionProperty||void 0===onChangeSelection,selection=isUncontrolled?selectionState:selectionProperty,[openedFilter,setOpenedFilter]=(0,react.useState)(null);const _fields=(0,react.useMemo)((()=>(0,normalize_fields.U)(fields)),[fields]),_selection=(0,react.useMemo)((()=>selection.filter((id=>data.some((item=>getItemId(item)===id))))),[selection,data,getItemId]);return(0,jsx_runtime.jsx)(dataviews_context.Provider,{value:{view,onChangeView,fields:_fields,actions,data,isLoading,paginationInfo,selection:_selection,onChangeSelection:function setSelectionWithChange(value){const newValue="function"==typeof value?value(selection):value;isUncontrolled&&setSelectionState(newValue),onChangeSelection&&onChangeSelection(newValue)},openedFilter,setOpenedFilter,getItemId,density},children:(0,jsx_runtime.jsxs)("div",{className:"dataviews-wrapper",children:[(0,jsx_runtime.jsxs)(component.Z,{alignment:"top",justify:"start",className:"dataviews__view-actions",children:[(0,jsx_runtime.jsxs)(component.Z,{justify:"start",className:"dataviews-filters__container",wrap:!0,children:[search&&(0,jsx_runtime.jsx)(dataviews_search,{label:searchLabel}),(0,jsx_runtime.jsx)(dataviews_filters,{})]}),view.type===LAYOUT_GRID&&(0,jsx_runtime.jsx)(DensityPicker,{density,setDensity}),(0,jsx_runtime.jsx)(BulkActions,{}),(0,jsx_runtime.jsxs)(component.Z,{spacing:1,expanded:!1,style:{flexShrink:0},children:[(0,jsx_runtime.jsx)(dataviews_view_config,{defaultLayouts}),header]})]}),(0,jsx_runtime.jsx)(DataViewsLayout,{}),(0,jsx_runtime.jsx)(dataviews_pagination,{}),(0,jsx_runtime.jsx)(BulkActionsToolbar,{})]})})}DataViews.displayName="DataViews";try{dataviews.displayName="dataviews",dataviews.__docgenInfo={description:"",displayName:"dataviews",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"View"}},onChangeView:{defaultValue:null,description:"",name:"onChangeView",required:!0,type:{name:"(view: View) => void"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},search:{defaultValue:{value:"true"},description:"",name:"search",required:!1,type:{name:"boolean"}},searchLabel:{defaultValue:{value:"undefined"},description:"",name:"searchLabel",required:!1,type:{name:"string"}},actions:{defaultValue:{value:"[]"},description:"",name:"actions",required:!1,type:{name:"Action<Item>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},paginationInfo:{defaultValue:null,description:"",name:"paginationInfo",required:!0,type:{name:"{ totalItems: number; totalPages: number; }"}},defaultLayouts:{defaultValue:null,description:"",name:"defaultLayouts",required:!0,type:{name:"SupportedLayouts"}},selection:{defaultValue:null,description:"",name:"selection",required:!1,type:{name:"string[]"}},onChangeSelection:{defaultValue:null,description:"",name:"onChangeSelection",required:!1,type:{name:"(items: string[]) => void"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},getItemId:{defaultValue:{value:"( item: ItemWithId ) => item.id"},description:"",name:"getItemId",required:!1,type:{name:"((item: Item) => string) | ((item: Item) => string)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataviews/index.tsx#dataviews"]={docgenInfo:dataviews.__docgenInfo,name:"dataviews",path:"packages/dataviews/src/components/dataviews/index.tsx#dataviews"})}catch(__react_docgen_typescript_loader_error){}var trash=__webpack_require__("./packages/icons/build-module/library/trash.js"),text_component=__webpack_require__("./packages/components/build-module/text/component.js");const data=[{id:1,title:"Apollo",description:"Apollo description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Not a planet",categories:["Space","NASA"],satellites:0},{id:2,title:"Space",description:"Space description",image:"https://live.staticflickr.com/5678/21911065441_92e2d44708_b.jpg",type:"Not a planet",categories:["Space"],satellites:0},{id:3,title:"NASA",description:"NASA photo",image:"https://live.staticflickr.com/742/21712365770_8f70a2c91e_b.jpg",type:"Not a planet",categories:["NASA"],satellites:0},{id:4,title:"Neptune",description:"Neptune description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Ice giant",categories:["Space","Planet","Solar system"],satellites:14},{id:5,title:"Mercury",description:"Mercury description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:0},{id:6,title:"Venus",description:"La plante Vnus",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:0},{id:7,title:"Earth",description:"Earth description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:1},{id:8,title:"Mars",description:"Mars description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Terrestrial",categories:["Space","Planet","Solar system"],satellites:2},{id:9,title:"Jupiter",description:"Jupiter description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Gas giant",categories:["Space","Planet","Solar system"],satellites:95},{id:10,title:"Saturn",description:"Saturn description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Gas giant",categories:["Space","Planet","Solar system"],satellites:146},{id:11,title:"Uranus",description:"Uranus description",image:"https://live.staticflickr.com/5725/21726228300_51333bd62c_b.jpg",type:"Ice giant",categories:["Space","Ice giant","Solar system"],satellites:28}],DEFAULT_VIEW={type:LAYOUT_TABLE,search:"",page:1,perPage:10,fields:["title","description","categories"],layout:{},filters:[]},actions=[{id:"delete",label:"Delete item",isPrimary:!0,icon:trash.Z,hideModalHeader:!0,RenderModal:({item,closeModal})=>(0,jsx_runtime.jsxs)(v_stack_component.Z,{spacing:"5",children:[(0,jsx_runtime.jsx)(text_component.Z,{children:`Are you sure you want to delete "${item.title}"?`}),(0,jsx_runtime.jsxs)(component.Z,{justify:"right",children:[(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"tertiary",onClick:closeModal,children:"Cancel"}),(0,jsx_runtime.jsx)(build_module_button.ZP,{variant:"primary",onClick:closeModal,children:"Delete"})]})]})},{id:"secondary",label:"Secondary action",callback(){}}],fields=[{label:"Image",id:"image",render:({item})=>(0,jsx_runtime.jsx)("img",{src:item.image,alt:"",style:{width:"100%"}}),enableSorting:!1},{label:"Title",id:"title",enableHiding:!1,enableGlobalSearch:!0},{label:"Type",id:"type",enableHiding:!1,elements:[{value:"Not a planet",label:"Not a planet"},{value:"Ice giant",label:"Ice giant"},{value:"Terrestrial",label:"Terrestrial"},{value:"Gas giant",label:"Gas giant"}]},{label:"Satellites",id:"satellites",enableSorting:!0},{label:"Description",id:"description",enableSorting:!1,enableGlobalSearch:!0},{label:"Categories",id:"categories",elements:[{value:"Space",label:"Space"},{value:"NASA",label:"NASA"},{value:"Planet",label:"Planet"},{value:"Solar system",label:"Solar system"},{value:"Ice giant",label:"Ice giant"}],filterBy:{operators:["isAny","isNone","isAll","isNotAll"]},getValue:({item})=>item.categories,render:({item})=>item.categories.join(","),enableSorting:!1}];function filter_and_sort_data_view_normalizeSearchInput(input=""){return remove_accents_default()(input.trim().toLowerCase())}const filter_and_sort_data_view_EMPTY_ARRAY=[];const index_story={title:"DataViews/DataViews",component:DataViews,parameters:{sourceLink:"packages/dataviews/src/components/dataviews",badges:[]}},Default=props=>{const[view,setView]=(0,react.useState)(DEFAULT_VIEW),{data:shownData,paginationInfo}=(0,react.useMemo)((()=>function filterSortAndPaginate(data,view,fields){if(!data)return{data:filter_and_sort_data_view_EMPTY_ARRAY,paginationInfo:{totalItems:0,totalPages:0}};const _fields=(0,normalize_fields.U)(fields);let filteredData=[...data];if(view.search){const normalizedSearch=filter_and_sort_data_view_normalizeSearchInput(view.search);filteredData=filteredData.filter((item=>_fields.filter((field=>field.enableGlobalSearch)).map((field=>filter_and_sort_data_view_normalizeSearchInput(field.getValue({item})))).some((field=>field.includes(normalizedSearch)))))}if(view.filters&&view.filters?.length>0&&view.filters.forEach((filter=>{const field=_fields.find((_field=>_field.id===filter.field));field&&(filter.operator===OPERATOR_IS_ANY&&filter?.value?.length>0?filteredData=filteredData.filter((item=>{const fieldValue=field.getValue({item});return Array.isArray(fieldValue)?filter.value.some((filterValue=>fieldValue.includes(filterValue))):"string"==typeof fieldValue&&filter.value.includes(fieldValue)})):filter.operator===OPERATOR_IS_NONE&&filter?.value?.length>0?filteredData=filteredData.filter((item=>{const fieldValue=field.getValue({item});return Array.isArray(fieldValue)?!filter.value.some((filterValue=>fieldValue.includes(filterValue))):"string"==typeof fieldValue&&!filter.value.includes(fieldValue)})):"isAll"===filter.operator&&filter?.value?.length>0?filteredData=filteredData.filter((item=>filter.value.every((value=>field.getValue({item})?.includes(value))))):"isNotAll"===filter.operator&&filter?.value?.length>0?filteredData=filteredData.filter((item=>filter.value.every((value=>!field.getValue({item})?.includes(value))))):filter.operator===OPERATOR_IS?filteredData=filteredData.filter((item=>filter.value===field.getValue({item}))):filter.operator===OPERATOR_IS_NOT&&(filteredData=filteredData.filter((item=>filter.value!==field.getValue({item})))))})),view.sort){const fieldId=view.sort.field,fieldToSort=_fields.find((field=>field.id===fieldId));fieldToSort&&filteredData.sort(((a,b)=>{var _fieldToSort$getValue,_fieldToSort$getValue2;const valueA=null!==(_fieldToSort$getValue=fieldToSort.getValue({item:a}))&&void 0!==_fieldToSort$getValue?_fieldToSort$getValue:"",valueB=null!==(_fieldToSort$getValue2=fieldToSort.getValue({item:b}))&&void 0!==_fieldToSort$getValue2?_fieldToSort$getValue2:"";return"number"==typeof valueA&&"number"==typeof valueB?"asc"===view.sort?.direction?valueA-valueB:valueB-valueA:"asc"===view.sort?.direction?valueA.localeCompare(valueB):valueB.localeCompare(valueA)}))}let totalItems=filteredData.length,totalPages=1;if(void 0!==view.page&&void 0!==view.perPage){const start=(view.page-1)*view.perPage;totalItems=filteredData?.length||0,totalPages=Math.ceil(totalItems/view.perPage),filteredData=filteredData?.slice(start,start+view.perPage)}return{data:filteredData,paginationInfo:{totalItems,totalPages}}}(data,view,fields)),[view]);return(0,jsx_runtime.jsx)(DataViews,{...props,paginationInfo,data:shownData,view,fields,onChangeView:setView})};Default.displayName="Default",Default.args={actions,defaultLayouts:{[LAYOUT_TABLE]:{layout:{primaryField:"title",styles:{image:{width:50},title:{maxWidth:400},type:{maxWidth:400},description:{maxWidth:200}}}},[LAYOUT_GRID]:{layout:{mediaField:"image",primaryField:"title"}}}},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"props => {\n  const [view, setView] = useState(DEFAULT_VIEW);\n  const {\n    data: shownData,\n    paginationInfo\n  } = useMemo(() => {\n    return filterSortAndPaginate(data, view, fields);\n  }, [view]);\n  return <DataViews {...props} paginationInfo={paginationInfo} data={shownData} view={view} fields={fields} onChangeView={setView} />;\n}",...Default.parameters?.docs?.source}}}}}]);